<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <!-- â–¼â–¼â–¼ã€ä¿®æ­£ç‚¹1ã€‘ã“ã®viewportã‚¿ã‚°ã‚’è¿½åŠ ã—ã¾ã—ãŸï¼ â–¼â–¼â–¼ -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jãƒªãƒ¼ã‚°ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–åˆ†æ</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<!-- â–¼â–¼â–¼ ã“ã®<style>ãƒ–ãƒ­ãƒƒã‚¯å…¨ä½“ã‚’ã€æ—¢å­˜ã®ã‚‚ã®ã¨ç½®ãæ›ãˆã¦ãã ã•ã„ â–¼â–¼â–¼ -->
<style>
    /* åŸºæœ¬çš„ãªã‚¹ã‚¿ã‚¤ãƒ« */
    body {
      font-family: 'Segoe UI', 'Noto Sans JP', Arial, sans-serif;
      margin: 0;
      background: linear-gradient(135deg, #232947 0%, #24304e 100%);
      color: #f0f0f0;
    }
    main { max-width: 1140px; margin: 0 auto; padding: 0 14px 40px 14px; }
    .page-section { display: none; }
    .page-section.visible { display: block !important; }
    .page-title-row { display: flex; align-items: center; justify-content: center; margin-top: 38px; margin-bottom: 30px; gap: 14px;}
    .page-title-row h1 { font-size: 2.2rem; font-weight: bold; letter-spacing: 0.1em; margin: 0; color: #eaf7fc; display: flex; align-items: center; gap: 8px;}
    nav {
      display: flex;
      justify-content: center; /* PCã§ã¯ä¸­å¤®æƒãˆ */
      align-items: center;
      background-color: #25304a;
      padding: 12px 15px;
      position: relative;
      padding-left: 80px; /* ã‚¢ã‚¤ã‚³ãƒ³ç”¨ã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’ç¢ºä¿ */
    }
    .home-icon-link {
        position: absolute;
        left: 15px; /* ãƒ˜ãƒƒãƒ€ãƒ¼å·¦ç«¯ã‹ã‚‰ã®ä½ç½® */
        top: 50%;
        transform: translateY(-50%);
        height: 40px; /* ãƒ˜ãƒƒãƒ€ãƒ¼ã®é«˜ã•ã«åˆã‚ã›ã¦ã‚¢ã‚¤ã‚³ãƒ³ã‚µã‚¤ã‚ºã‚’èª¿æ•´ */
        z-index: 1002; /* ä»–ã®è¦ç´ ã‚ˆã‚Šæ‰‹å‰ã« */
        display: flex;
        align-items: center;
        transition: transform 0.2s;
    }
    .home-icon-link:hover {
        transform: translateY(-50%) scale(1.08);
    }
    .home-icon {
        height: 100%;
        width: auto;
        border-radius: 8px;
        cursor: pointer;
    }
    .nav-links {
      display: flex;
      align-items: center;
      gap: 16px; /* ãƒœã‚¿ãƒ³é–“ã®éš™é–“ */
    }
    .hamburger-btn {
      display: none; /* PCã§ã¯ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤º */
    }
    nav button {
      font-size: 1.05rem; padding: 7px 22px; border-radius: 24px; border: none;
      background: linear-gradient(90deg, #274266 0%, #41cdf4 100%);
      color: #fff; margin: 0; cursor: pointer; transition: background 0.2s, transform 0.12s;
      font-weight: bold; letter-spacing: 0.07em;
    }
    nav button.active, nav button:focus {
      background: linear-gradient(90deg, #41cdf4 0%, #274266 100%);
      color: #232947;
      transform: scale(1.06);
    }
    .ball-icon { width: 37px; height: 37px; vertical-align: middle; margin-left: 8px; margin-bottom: 1px;}
    .score-calc-btn { background: linear-gradient(90deg, #f1f1f3 70%, #c0e8fb 100%); border: none; color: #222; font-size: 0.98rem; border-radius: 17px; padding: 5px 16px; margin-left: 16px; font-weight: bold; box-shadow: 0 1px 8px 0 #0001; cursor: pointer; position: relative;}
    .score-calc-pop { display: none; position: absolute; top: 36px; left: 50%; transform: translateX(-50%); background: #232947; color: #fff; border-radius: 12px; box-shadow: 0 2px 10px #1113; padding: 13px 22px 9px 22px; z-index: 10; min-width: 240px; font-size: 1.01rem; text-align: left; line-height: 1.6; white-space: pre-line; border: 1.3px solid #299ad3;}
    .score-calc-btn:hover .score-calc-pop, .score-calc-btn:focus .score-calc-pop { display: block; }
    .score-calc-pop .calc-note { font-size: 0.85em; color: #aaf; margin-top: 7px; }
    .big5-container { display: flex; flex-direction: column; align-items: center; gap: 18px; margin-bottom: 34px; }
    .big5-row { display: flex; gap: 36px; justify-content: center; margin-bottom: 8px; }
    .club-card { border: none; border-radius: 18px; padding: 14px 17px 11px 17px; width: 220px; min-height: 88px; text-align: center; color: #fff; font-size: 1.08rem; box-sizing: border-box; transition: box-shadow 0.2s; box-shadow: 0 2px 13px 0 #23304638; display: flex; flex-direction: column; align-items: center; justify-content: center;}
    .club-card.top-club   { background: linear-gradient(125deg, #e94444 60%, #fd7575 100%); }
    .club-card.potential-big { background: linear-gradient(120deg, #22bbf0 70%, #8ae7fb 100%); }
    .club-card.middle     { background: linear-gradient(125deg, #aaa 60%, #e1e1e1 100%); color: #202028; }
    .club-card.local      { background: linear-gradient(120deg, #232947 60%, #2b3752 100%); }
    .club-card h3.club-title { font-size: 1.16rem; font-weight: bold; margin: 0 0 8px 0; line-height: 1.17; transition: font-size 0.2s; word-break: break-word;}
    .club-card.long-title h3.club-title { font-size: 0.96rem; }
    .club-card .score-val { font-size: 1.07rem; font-weight: 500; margin: 3px 0 0 0; letter-spacing: 0.07em;}
    .club-table-container { margin-top: 32px; }
    table { width: 98%; border-collapse: separate; border-spacing: 0; margin: 0 auto 36px auto; background-color: #293352ee; border-radius: 13px; overflow: hidden; box-shadow: 0 2px 11px 0 #23304634;}
    th, td { border: none; padding: 11px 7px; text-align: center; font-weight: bold;}
    th { background: linear-gradient(90deg, #299ad3 65%, #b0e7fa 100%); color: #fff; font-size: 1.04rem; font-weight: bold; letter-spacing: 0.05em;}
    #club-categories table tr { background: linear-gradient(90deg, #26334e 90%, #233046 100%); font-size: 0.875rem; transition: background 0.13s; }
    #club-categories table tr.potential-big { background: linear-gradient(90deg, #1fb8e4 60%, #b8f4ff 100%); color: #1c1c3b; }
    #club-categories table tr.middle        { background: linear-gradient(90deg, #bdbdbd 60%, #e1e1e1 100%); color: #21213b; }
    #club-categories table tr.local         { background: linear-gradient(90deg, #232947 60%, #2b3752 100%); color: #eee; }
    #club-categories table tr.top-club      { background: linear-gradient(90deg, #e94444 60%, #fd7575 100%); color: #fff; }
    #club-categories table tr:hover { background: #2a4b76cc !important; }
    .table-note { display: inline-block; float: right; font-size: 13px; color: #bbc; margin-bottom: 7px; margin-right: 6px; background: transparent;}
    .metric-btn-row { display: flex; justify-content: center; gap: 15px; margin-bottom: 15px; margin-top: 18px;}
    .metric-btn { background: linear-gradient(90deg, #1fb8e4 70%, #b8f4ff 100%); border: none; color: #202947; font-size: 1.03rem; border-radius: 16px; padding: 6px 22px; font-weight: bold; cursor: pointer; margin: 0 2px; transition: background 0.16s, color 0.1s, transform 0.1s;}
    .metric-btn.active, .metric-btn:focus { background: linear-gradient(90deg, #299ad3 80%, #1fb8e4 100%); color: #fff; transform: scale(1.06);}
    .metrics-chart-wrap { width: 100%; max-width: 1100px; margin: 0 auto 40px auto; background: #fff; border-radius: 18px; padding: 18px 9px 15px 9px; box-shadow: 0 2px 9px #23304622;}
    canvas { width: 100% !important; max-width: 1060px; height: 520px !important; background: #fff; margin-bottom: 10px;}
    .blog-list { margin-top: 28px; text-align: left; max-width: 700px; margin-left: auto; margin-right: auto;}
    .blog-list li { margin-bottom: 17px; font-size: 1.09rem; border-left: 4px solid #28c9ed; background: #24334d77; padding: 9px 16px 9px 19px; border-radius: 7px; transition: background 0.18s;}
    .blog-list li:hover { background: #b9e7f826; }
    .blog-list a { color: #21c0ee; font-weight: bold; text-decoration: none; transition: color 0.17s;}
    .blog-list a:hover { color: #f86565; text-decoration: underline; }
    .country-btn { background: rgba(255,240,70,0.07); border: 2px solid rgba(255,240,70,0.15); cursor: pointer; border-radius: 18px; outline: none; z-index: 5; transition: background 0.17s, box-shadow 0.17s, border-color 0.17s; }
    .country-btn:hover, .country-btn.active { background: rgba(255,240,70,0.36); border: 2.5px solid #ffe552cc; box-shadow: 0 0 14px 6px #ffe55288; outline: 2px solid #ffe552bb; }
    .nav-dropdown { position: relative; display: inline-block; }
    .nav-dropdown-content { display: none; position: absolute; left: 0; top: 46px; background-color: #24304e; min-width: 180px; border-radius: 11px; box-shadow: 0 4px 14px 0 #1115; z-index: 100; padding: 5px; border: 1.3px solid #29b6e6; flex-direction: column; align-items: stretch; }
    .nav-dropdown-content button { width: 100%; background: none; border: none; color: #f0f0f0; padding: 11px 15px; text-align: left; font-size: 1rem; font-weight: bold; border-radius: 8px; margin: 0; cursor: pointer; box-shadow: none; transition: background 0.14s, color 0.12s; display: block; }
    .nav-dropdown-content button:hover, .nav-dropdown-content button:focus { background: #2a4b76; color: #fff; }
    .nav-dropdown:hover .nav-dropdown-content, .nav-dropdown:focus-within .nav-dropdown-content { display: flex; }
    .best11-player-label { position: absolute; min-width: 62px; max-width: 68px; width: 68px; height: 24px; padding: 3.5px 8px 2.5px 8px; background: rgba(36,48,78,0.87); color: #ffd700; font-size: 0.90rem; font-weight: bold; text-align: center; border-radius: 13px; border: 1.2px solid #ffd70066; z-index: 5; box-shadow: 0 1px 7px #1128; user-select: none; transition: background 0.14s; display: flex; align-items: center; justify-content: center; overflow: hidden; line-height: 1.15; }
    .best11-player-label span { display: block; width: 100%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1em; transition: font-size 0.15s; }
    .best11-player-label.unselected { background:rgba(90,100,120,0.43); color:#fff7; border:1.2px dashed #fff3; }
    .position-btn.active { background: linear-gradient(90deg, #27aee7 60%, #aaf7fd 100%); color: #143060; border: 2px solid #299ad3; box-shadow: 0 2px 6px #27aee74c; transform: scale(1.08); }
    .best11-player-label.selected { background: linear-gradient(90deg, #27aee7 60%, #aaf7fd 100%); color: #143060; border: 2px solid #299ad3; box-shadow: 0 2px 9px #27aee777, 0 1px 7px #1128; z-index: 10; }
    #best11-table table { width: 100%; max-width: 700px; min-width: 220px; margin: 0 auto 18px auto; background: #f9fcff; color: #21304c; border-radius: 16px; box-shadow: 0 2px 18px #2330461a; border-collapse: separate; border-spacing: 0; overflow: hidden; font-size: 0.96rem; }
    #best11-table th, #best11-table td { padding: 5px 7px !important; line-height: 1.1; text-align: center; border-bottom: 1.5px solid #e8edf6; }
    #best11-table th { background: linear-gradient(90deg, #27aee7 65%, #b0e7fa 100%); color: #fff; font-size: 1.13rem; font-weight: bold; letter-spacing: 0.06em; }
    #best11-table tr:last-child td { border-bottom: none; }
    #best11-table tr:nth-child(even) td { background: #f2f6fa; }
    #best11-table tr:nth-child(odd) td { background: #ffffff; }
    #best11-table td.unselected { color: #c5c5c5; font-style: italic; }
    #court-area { position:absolute; top:0; left:0; width:360px; height:350px; z-index:2; min-width: 360px; max-width: 360px; min-height: 350px; max-height: 350px; margin-bottom: 0; }
    #best11-capture-area { position: relative; width: 1050px; min-width: 900px; max-width: 1050px; padding: 26px 22px 22px 22px; border-radius:28px; box-shadow:0 4px 26px #2237,0 2px 8px #2236; border:2.2px solid #29b6e6; display:flex; flex-direction:column; align-items:center; margin: 40px auto; background: linear-gradient(135deg, #232947 0%, #24304e 100%); }
    #best11-capture-core { display: flex; gap: 25px; align-items: flex-start; justify-content: center; width: 980px; max-width: 100vw; margin: 0 auto 18px auto; }
    #table-footer { text-align: right; font-size: 20px; color: #888; margin-top: 4px; user-select: none; font-weight: bold; letter-spacing: 0.08em; }
    .league-tab-btn { font-size: 1.04rem; padding: 6px 23px; margin: 0 6px 6px 0; border-radius: 20px; border: none; background: linear-gradient(90deg, #41cdf4 0%, #274266 100%); color: #fff; font-weight: bold; letter-spacing: 0.08em; cursor: pointer; transition: background 0.18s, color 0.1s; }
    .league-tab-btn.active, .league-tab-btn:focus { background: linear-gradient(90deg, #274266 0%, #41cdf4 100%); color: #21304c; transform: scale(1.07); }
    #club-status-board { position: fixed; left: 50%; top: 50%; transform: translate(-50%, -53%); z-index: 9999; max-width: 97vw; width: 480px; background: linear-gradient(115deg, #1e283f 80%, #299ad3 100%); color: #fff; border-radius: 17px; box-shadow: none; padding: 32px 28px 20px 28px; font-size: 1.11rem; display: none; }
    .blog-card { width: 30%; background: #fff; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); overflow: hidden; text-align: left; cursor: pointer; transition: transform 0.2s; }
    .blog-card:hover { transform: translateY(-6px); }
    .blog-card img { width: 100%; height: 160px; object-fit: cover; }
    .blog-card-content { padding: 12px; }
    .blog-card-title { font-weight: bold; margin-bottom: 5px; color: #333; font-size: 1.05em; }
    .blog-card-date { color: #888; font-size: 0.9em; }
    .position-btn-row { display: flex; flex-wrap: wrap; gap: 3px 7px; justify-content: center; margin-bottom: 14px; }
    #player-choice-list { width: auto !important; min-width: 0 !important; max-width: 100% !important; display: flex; justify-content: center; }
    .player-choice-row { width: auto !important; }
    #position-tabs { max-width:950px; margin:0 auto 15px auto; text-align: center; }
    #mobile-header { display: none; }
    #best11-filters { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; align-items: center; }
    .filter-btn { background: linear-gradient(90deg, #44567c 0%, #354a6b 100%); border: 1.5px solid #5a75a7; color: #fff; font-size: 0.95rem; border-radius: 16px; padding: 5px 18px; font-weight: bold; cursor: pointer; transition: all 0.2s; }
    .filter-btn:hover { background: linear-gradient(90deg, #516894 0%, #455f8a 100%); }
    .filter-btn.active { background: linear-gradient(90deg, #27aee7 60%, #aaf7fd 100%); color: #143060; border-color: #299ad3; transform: scale(1.05); }
    #club-filter-select { padding: 6px 10px; font-size: 0.95rem; border-radius: 8px; border: 2px solid #5a75a7; background-color: #232947; color: #fff; font-weight: bold; }
    .rank-tab-btn { font-size: 1.04rem; padding: 6px 23px; margin: 0 6px; border-radius: 20px; border: 1.5px solid #5a75a7; background: linear-gradient(90deg, #44567c 0%, #354a6b 100%); color: #fff; font-weight: bold; letter-spacing: 0.08em; cursor: pointer; transition: all 0.2s; }
    .rank-tab-btn:hover { background: linear-gradient(90deg, #516894 0%, #455f8a 100%); }
    .rank-tab-btn.active { background: linear-gradient(90deg, #27aee7 60%, #aaf7fd 100%); color: #143060; border-color: #299ad3; transform: scale(1.07); }
    #ranking-table-container table { background-color: #f9fcff; color: #21304c; }
    #ranking-table-container tr:nth-child(even) { background: #f2f6fa; }
    #ranking-table-container tr:nth-child(odd)  { background: #ffffff; }
    #ranking-table-container th { background: linear-gradient(90deg, #27aee7 65%, #b0e7fa 100%); color: #fff; }
    .capture-action-btn { background: #2ab8f2; color: #fff; border: none; border-radius: 12px; padding: 10px 20px; font-size: 1.08em; font-weight: bold; box-shadow: 0 2px 12px #0003; cursor: pointer; display: flex; align-items: center; gap: 8px; transition: background-color 0.2s; }
    .capture-action-btn:hover { filter: brightness(1.1); }
    #post-to-x-btn { background-color: #000000; color: #ffffff; border: 1px solid #555; }
    .capture-action-btn.secondary-action { background-color: transparent; color: #2ab8f2; border: 1.5px solid #2ab8f2; }
    .capture-action-btn.secondary-action:hover { background-color: rgba(42, 184, 242, 0.1); filter: none; }
    .sim-container { max-width: 850px; margin: 20px auto; padding: 20px 30px 30px 30px; background-color: #293352ee; border-radius: 16px; color: #f0f0f0; border: 1.5px solid #4a5a7f; }
    .sim-container h2 { text-align: center; color: #baf7fa; margin-bottom: 5px; }
    .sim-note { font-size: 0.9em; color: #aabbcc; margin-bottom: 25px; text-align: center; }
    .sim-controls { display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 30px; }
    .sim-select-group { flex: 1; min-width: 250px; }
    .sim-select-group label { display: block; margin-bottom: 8px; font-weight: bold; }
    .sim-select-group select { width: 100%; padding: 12px; font-size: 1rem; background-color: #232947; color: #fff; border: 1px solid #5a75a7; border-radius: 8px; cursor: pointer; }
    .sim-select-group select:disabled { background-color: #333d5c; cursor: not-allowed; }
    .sim-input-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
    .sim-input-group label { display: block; margin-bottom: 5px; font-size: 0.95em; }
    .sim-input-group input { width: 100%; padding: 10px; box-sizing: border-box; background-color: #fff; border: 1px solid #ccc; border-radius: 8px; color: #333; font-size: 1rem; }
    .sim-input-group input:disabled { background-color: #e9e9e9; cursor: not-allowed; }
    #sim-result-area { margin-top: 30px; padding: 20px; background-color: #232947; border-radius: 12px; border: 1.5px solid #299ad3; min-height: 100px; text-align: center; transition: all 0.3s; }
    .sim-current-score { font-size: 1.2em; margin-bottom: 15px; line-height: 1.6; }
    .sim-current-score strong { font-size: 1.6em; color: #ffd700; font-weight: bold; }
    .sim-new-score { font-size: 1.4em; font-weight: bold; line-height: 1.6; }
    .sim-new-score .arrow { color: #fff; margin: 0 10px; }
    .sim-new-score .score-value { color: #41cdf4; font-size: 1.8em; transition: color 0.3s; }
    .update-date-note { font-size: 0.85em; color: #aabbcc; margin: 0 0 10px 5px; text-align: right; }
    @keyframes scroll { from { transform: translateX(0); } to { transform: translateX(-100%); } }
    .carousel-container { max-width: 800px; margin: 20px auto; overflow: hidden; position: relative; background-color: #232947; padding: 15px; border: 1.5px solid #4a5a7f; border-radius: 16px; }
    .carousel-track { display: flex; transition: transform 0.5s ease-in-out; }
    .carousel-item { min-width: 50%; box-sizing: border-box; padding: 0 10px; }
    .carousel-item img { display: block; width: 100%; border-radius: 8px; max-height: 100px; object-fit: cover; }
    .carousel-btn { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(35, 41, 71, 0.6); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; font-size: 20px; font-weight: bold; cursor: pointer; z-index: 10; display: flex; align-items: center; justify-content: center; transition: background-color 0.2s; box-shadow: 0 1px 5px rgba(0,0,0,0.3); }
    .carousel-btn:hover { background-color: rgba(35, 41, 71, 0.9); }
    .carousel-btn.prev { left: 25px; }
    .carousel-btn.next { right: 25px; }
    .carousel-item a { position: relative; display: block; overflow: hidden; border-radius: 8px; }
    .banner-text { position: absolute; bottom: 0; left: 0; right: 0; color: white; text-align: center; font-weight: bold; font-size: 1.1em; padding: 20px 15px 12px 15px; background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.7) 50%, rgba(0, 0, 0, 0) 100%); text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; transition: all 0.3s ease; }
    .carousel-item a:hover .banner-text { background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 0%, rgba(0, 0, 0, 0.8) 50%, rgba(0, 0, 0, 0) 100%); }
    #europe-top20 table { width: 98%; border-collapse: separate; border-spacing: 0; margin: 0 auto 36px auto; background-color: #f9fcff; color: #21304c; border-radius: 13px; overflow: hidden; box-shadow: 0 2px 11px 0 #23304634; font-size: 0.9rem; }
    #europe-top20 th, #europe-top20 td { border: none; padding: 10px 8px; text-align: center; font-weight: bold; border-bottom: 1.5px solid #e8edf6; }
    #europe-top20 tr:last-child td { border-bottom: none; }
    #europe-top20 th { background: linear-gradient(90deg, #27aee7 65%, #b0e7fa 100%); color: #fff; font-size: 1rem; }
    #europe-top20 tr:nth-child(even) { background: #f2f6fa; }
    #europe-top20 tr:nth-child(odd)  { background: #ffffff; }
    #europe-top20 { position: relative; }
    #europe-top20 .data-source-note { position: absolute; top: -25px; right: 1%; font-size: 0.8em; color: #aabbcc; }
    #player-table-wrap table { font-size: 1rem; width: 100%; }

    /* 
    ================================================
    â˜…â˜…â˜… ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ç”¨ã®ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆã“ã“ã‹ã‚‰ä¸‹ï¼‰â˜…â˜…â˜…
    ================================================
    */
    @media (max-width: 768px) {
      /* --- å…¨ä½“ãƒ»åŸºæœ¬ã‚¹ã‚¿ã‚¤ãƒ« --- */
      body {
          font-size: 15px;
      }
      main {
          padding: 0 4vw 80px 4vw;
      }
            .page-title-row h1 {
          font-size: 1.6rem;
          text-align: center;
          /* â–¼â–¼â–¼ ã“ã“ã‹ã‚‰3è¡Œã‚’è¿½åŠ  â–¼â–¼â–¼ */
          flex-direction: column-reverse; /* è¦ç´ ã‚’ç¸¦ã«ä¸¦ã¹ã€é †åºã‚’é€†ã«ã™ã‚‹ */
          align-items: center;            /* ä¸­å¤®æƒãˆ */
          gap: 12px;                      /* ãƒœã‚¿ãƒ³ã¨ã‚¿ã‚¤ãƒˆãƒ«ã®é–“ã®ä½™ç™½ */
      }
      table {
          font-size: 13px;
      }

      /* --- ãƒ˜ãƒƒãƒ€ãƒ¼ã®è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ --- */
      #mobile-header {
        display: flex;
        position: sticky;
        top: 0;
        z-index: 1001;
        background-color: #25304a;
        height: 55px;
        width: 100%;
        align-items: center;
        justify-content: center;
      }
      #mobile-header .home-icon-link {
          height: 38px;
          position: static;
          transform: none;
      }
      
      /* â–¼â–¼â–¼ã€ã“ã“ã‹ã‚‰ãŒä¿®æ­£ç®‡æ‰€ã§ã™ã€‘â–¼â–¼â–¼ */
      
      /* PCç”¨ã®<nav>ã‚’display:noneã§æ¶ˆã™ä»£ã‚ã‚Šã«ã€è¦‹ãŸç›®ã ã‘ã‚’æ¶ˆã—ã¦ã‚³ãƒ³ãƒ†ãƒŠã¨ã—ã¦æ®‹ã—ã¾ã™ */
      nav {
        /* display: none; ã‚’å‰Šé™¤ */
        position: static; /* position:relativeã‚’ãƒªã‚»ãƒƒãƒˆ */
        background-color: transparent; /* èƒŒæ™¯ã‚’é€æ˜ã« */
        padding: 0; /* paddingã‚’å‰Šé™¤ */
        height: 0; /* é«˜ã•ã‚’ãªãã—ã¦ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«å½±éŸ¿ã•ã›ãªã„ */
      }
      
      /* PCç”¨<nav>ã®ä¸­ã«ã‚ã‚‹ãƒ›ãƒ¼ãƒ ã‚¢ã‚¤ã‚³ãƒ³ã‚’éè¡¨ç¤ºã«ã—ã¾ã™ */
      nav .home-icon-link {
          display: none;
      }

      /* â–²â–²â–²ã€ä¿®æ­£ã¯ã“ã“ã¾ã§ã§ã™ã€‘â–²â–²â–² */

            /* --- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ã®æ–°ã—ã„ã‚¹ã‚¿ã‚¤ãƒ« --- */
            /* --- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ã®æ–°ã—ã„ã‚¹ã‚¿ã‚¤ãƒ« --- */
      .hamburger-btn {
        display: flex;
        flex-direction: column;
        justify-content: space-around;
        width: 40px;
        height: 40px;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 8px;
        box-sizing: border-box;
        position: fixed; /* ç”»é¢åŸºæº–ã§ä½ç½®ã‚’å›ºå®š */
        left: 10px;
        top: 8px; /* ä¸Šã‹ã‚‰ã®ä½ç½®ã‚’å›ºå®šå€¤ã« */
        z-index: 11001; /* æœ€ã‚‚æ‰‹å‰ã«è¡¨ç¤º */
      }
      .hamburger-btn span {
        width: 100%;
        height: 0.2rem;
        background: #fff;
        border-radius: 10px;
      }
      
            /* --- ã‚¹ãƒãƒ›ç”¨ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ï¼ˆã‚¹ãƒ©ã‚¤ãƒ‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰ --- */
      .nav-links {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        width: 70%;
        max-width: 250px;
        background: #232947e8;
        backdrop-filter: blur(5px);
        flex-direction: column;
        
        /* â–¼â–¼â–¼ ä¿®æ­£ç‚¹1: ä¸­å¤®æƒãˆã‚’ã‚„ã‚ã€ä¸Šã‹ã‚‰ã®ä½™ç™½ã‚’è¨­å®š â–¼â–¼â–¼ */
        justify-content: flex-start; /* ä¸Šæƒãˆã«å¤‰æ›´ */
        padding-top: 80px;           /* ä¸Šéƒ¨ã«80pxã®ä½™ç™½ã‚’è¿½åŠ  */

        align-items: stretch;
        gap: 0;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
        z-index: 11000;
        box-sizing: border-box;
        padding-left: 10px;  /* padding-top ã¨ã®é‡è¤‡ã‚’é¿ã‘ã‚‹ãŸã‚å¤‰æ›´ */
        padding-right: 10px; /* padding-top ã¨ã®é‡è¤‡ã‚’é¿ã‘ã‚‹ãŸã‚å¤‰æ›´ */
      }
      .nav-links.open {
        transform: translateX(0);
      }
      .nav-links button, .nav-links .nav-dropdown > button {
        width: 100%;
        margin-bottom: 0; /* ä¸‹ãƒãƒ¼ã‚¸ãƒ³ã¯è¦ªè¦ç´ ã§çµ±ä¸€ã™ã‚‹ãŸã‚ãƒªã‚»ãƒƒãƒˆ */
        font-size: 1.1rem;
        box-sizing: border-box;
      }

      /* â–¼â–¼â–¼ ä¿®æ­£ç‚¹2: ãƒœã‚¿ãƒ³ã¨ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®é–“éš”ã‚’çµ±ä¸€ â–¼â–¼â–¼ */
      .nav-links > button, 
      .nav-links > .nav-dropdown {
        width: 100%;
        margin-bottom: 18px; /* ã™ã¹ã¦ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã«å…±é€šã®ãƒãƒ¼ã‚¸ãƒ³ã‚’è¨­å®š */
      }

            .nav-dropdown-content {
          display: none; /* æ™®æ®µã¯éè¡¨ç¤ºãŒåŸºæœ¬ */
          position: static;
          background: none;
          box-shadow: none;
          border: none;
          width: 100%;
          padding-left: 20px;
          margin-top: 15px; /* è¦ªãƒœã‚¿ãƒ³ã¨ã®é–“éš”ã‚’èª¿æ•´ */
          box-sizing: border-box;
      }
      .nav-dropdown-content button {
        margin-bottom: 12px; /* ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…ã®ãƒœã‚¿ãƒ³é–“éš” */
      }
      
      /* â–¼â–¼â–¼ ã“ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’è¿½åŠ ãƒ»ä¿®æ­£ â–¼â–¼â–¼ */
      /* PCç”¨ã®ãƒ›ãƒãƒ¼/ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã«ã‚ˆã‚‹è¡¨ç¤ºã‚’ã€ã‚¹ãƒãƒ›ã§ã¯ç„¡åŠ¹åŒ–ã™ã‚‹ */
      .nav-dropdown:hover .nav-dropdown-content,
      .nav-dropdown:focus-within .nav-dropdown-content {
          display: none;
      }
      /* JavaScriptã§ã‚¯ãƒ©ã‚¹ã‚’ä»˜ã‘ãŸæ™‚ã ã‘è¡¨ç¤ºã™ã‚‹ï¼ˆä¸Šè¨˜ãƒ«ãƒ¼ãƒ«ã‚ˆã‚Šå„ªå…ˆã•ã‚Œã‚‹ï¼‰ */
      .nav-dropdown.menu-open .nav-dropdown-content {
          display: block;
      }
      /* â–²â–²â–² ã“ã“ã¾ã§ â–²â–²â–² */

      .nav-dropdown.menu-open > button {
          background: #354a6b !important;
      }
      
      .menu-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        /* â–¼â–¼â–¼ ä¿®æ­£ç‚¹2: z-indexã‚’é«˜ãã™ã‚‹ï¼ˆãƒ¡ãƒ‹ãƒ¥ãƒ¼æœ¬ä½“ã‚ˆã‚Šã¯ä½ãï¼‰â–¼â–¼â–¼ */
        z-index: 10999;
        cursor: pointer;
      }
      .menu-overlay.open {
        display: block;
      }
      /* --- ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ï¼ˆãƒãƒŠãƒ¼ï¼‰ã®ã‚¹ãƒãƒ›å‘ã‘èª¿æ•´ --- */
      .carousel-container {
        margin: 0 auto 25px auto;
        padding: 0;
        border: none;
        border-radius: 0;
        background-color: transparent;
      }
      .carousel-item {
          min-width: 100%;  /* 1ã¤ãšã¤è¡¨ç¤º */
          padding: 0 5px;
      }
      .carousel-item img {
          max-height: 200px; /* é«˜ã•ã‚’åºƒã’ã‚‹ */
      }
      .banner-text {
          font-size: 1.05em;
          padding: 15px 12px 10px 12px;
      }
      .carousel-btn {
          width: 38px;
          height: 38px;
      }
      .carousel-btn.prev {
          left: 15px;
      }
      .carousel-btn.next {
          right: 15px;
      }

      /* --- ãã®ä»–ã®ã‚¹ãƒãƒ›å‘ã‘èª¿æ•´ --- */
      .big5-row {
          flex-direction: column;
          gap: 12px;
          width: 100%;
      }
      .club-card {
          width: 90%;
          margin: 0 auto;
      }
      #best11-capture-core {
          flex-direction: column;
          align-items: center;
          width: 100%;
          gap: 20px;
      }
      .blog-card {
          width: 90%;
          margin: 0 auto;
      }
      
      /* 5å¤§ãƒªãƒ¼ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã®åˆ—ã‚’ã‚¹ãƒãƒ›ã§ã®ã¿éè¡¨ç¤ºã«ã™ã‚‹ */
      #player-table-wrap th:nth-child(2),
      #player-table-wrap td:nth-child(2),
      #player-table-wrap th:nth-child(3),
      #player-table-wrap td:nth-child(3) {
          display: none;
      }
    }
</style>
<!-- â–²â–²â–² ç½®ãæ›ãˆã¯ã“ã“ã¾ã§ â–²â–²â–² -->
</head>
<body>
<!-- â–¼â–¼â–¼ ãƒœã‚¿ãƒ³ã‚’headerã®å¤–ã«ç§»å‹•ã—ã€headerã¨é †åºã‚’å…¥ã‚Œæ›¿ãˆã¾ã™ â–¼â–¼â–¼ -->
<button id="hamburger-btn" class="hamburger-btn">
    <span></span>
    <span></span>
    <span></span>
</button>

<header id="mobile-header">
    <!-- â–²â–²â–² ã“ã“ã‹ã‚‰ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ãŒãªããªã‚Šã¾ã—ãŸ â–²â–²â–² -->
    <!-- ä¸­å¤®ã«é…ç½®ã™ã‚‹ãƒ›ãƒ¼ãƒ ã‚¢ã‚¤ã‚³ãƒ³ -->
    <a href="javascript:void(0)" onclick="showPage('top', null);" class="home-icon-link">
        <img src="img/banner4.png" alt="ãƒ›ãƒ¼ãƒ " class="home-icon">
    </a>
</header>
<nav>
<a href="javascript:void(0)" onclick="showPage('top', document.querySelector('nav button'));" class="home-icon-link">
        <img src="img/banner4.png" alt="ãƒ›ãƒ¼ãƒ " class="home-icon">
    </a>
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒªãƒ³ã‚¯ã®ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div id="nav-links" class="nav-links">

      <!-- Jãƒªãƒ¼ã‚°åˆ†æ -->
      <span class="nav-dropdown">
        <button onclick="toggleSubMenu(this, event)" id="nav-analysis-btn" class="active">Jãƒªãƒ¼ã‚°åˆ†æ</button>
        <div class="nav-dropdown-content">
          <button onclick="event.stopPropagation(); showPage('top', document.getElementById('nav-analysis-btn'));">ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–æŒ‡æ•°</button>
          <button onclick="event.stopPropagation(); showPage('metrics', this);">ã‚¯ãƒ©ãƒ–æŒ‡æ¨™</button>
          <button onclick="event.stopPropagation(); showPage('attendance', this);">å¹³å‡è¦³å®¢æ•°</button>
          <!-- â˜…â˜…â˜… ã“ã“ã«ã‚ã£ãŸã€ŒJãƒªãƒ¼ã‚°é †ä½è¡¨ã€ãƒœã‚¿ãƒ³ã‚’å‰Šé™¤ã—ã¾ã—ãŸ â˜…â˜…â˜… -->
          <button onclick="event.stopPropagation(); showPage('history', this);">éå»10å¹´é †ä½</button>
          <button onclick="event.stopPropagation(); showPage('introduce', this);">å„ã‚¯ãƒ©ãƒ–ç´¹ä»‹</button>
        </div>
      </span>

      <!-- Jãƒªãƒ¼ã‚°é †ä½è¡¨ï¼ˆç‹¬ç«‹ã—ãŸãƒœã‚¿ãƒ³ã¨ã—ã¦ç§»å‹•ï¼‰ -->
      <!-- â–¼â–¼â–¼ ã“ã®ãƒœã‚¿ãƒ³ã‚’æ–°ã—ãè¿½åŠ ã—ã¾ã—ãŸ â–¼â–¼â–¼ -->
      <button onclick="showPage('rankings', this)">Jãƒªãƒ¼ã‚°é †ä½è¡¨</button>
      
      <!-- ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ -->
      <span class="nav-dropdown">
        <button onclick="toggleSubMenu(this, event)" id="nav-simulation-btn">ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</button>
        <div class="nav-dropdown-content">
            <button onclick="event.stopPropagation(); showPage('simulation', document.getElementById('nav-simulation-btn'));">ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼</button>
            <button onclick="event.stopPropagation(); showPage('best11', this);">ãƒ™ã‚¹ãƒˆ11ãƒ¡ãƒ¼ã‚«ãƒ¼</button>
        </div>
      </span>
      
      <!-- æµ·å¤–ãƒªãƒ¼ã‚° -->
      <span class="nav-dropdown">
        <button onclick="toggleSubMenu(this, event)" id="nav-europe-btn">5å¤§ãƒªãƒ¼ã‚°</button>
        <div class="nav-dropdown-content">
            <button onclick="event.stopPropagation(); showPage('europe', document.getElementById('nav-europe-btn'));">5å¤§ãƒªãƒ¼ã‚°æ—¥æœ¬äººé¸æ‰‹</button>
            <button onclick="event.stopPropagation(); showPage('europe-top20', this);">å£²ä¸Šé«˜TOP20</button>
        </div>
      </span>
      
      <!-- è¨˜äº‹ -->
      <button onclick="showPage('blog', this)">è¨˜äº‹</button>

    </div>
</nav>
<div id="menu-overlay" class="menu-overlay"></div>
<main>
<div class="carousel-container" id="banner-carousel">
  <div class="carousel-track">
    
    <!-- ãƒãƒŠãƒ¼ã‚¢ã‚¤ãƒ†ãƒ  1 -->
    <div class="carousel-item">
      <!-- â˜…â˜…â˜… onclickã®å‡¦ç†ã‚’ä¿®æ­£ã—ã€ç›´æ¥è¨˜äº‹è©³ç´°ã‚’è¡¨ç¤ºã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã—ãŸ â˜…â˜…â˜… -->
      <a href="javascript:void(0)" onclick="showArticleDetail('bigclub-challenge', '2025å¹´ã‚·ãƒ¼ã‚ºãƒ³å¾ŒåŠæˆ¦ã€ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã®åº§ã‚’æºã‚‹ãŒã™ã®ã¯ã©ã“ã ï¼Ÿ')">
        <img src="img/banner3.png" alt="ãƒãƒŠãƒ¼1">
        <div class="banner-text">
            ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã®æ–°ãŸãªæŒ‘æˆ¦
        </div>
      </a>
    </div>

    <!-- ãƒãƒŠãƒ¼ã‚¢ã‚¤ãƒ†ãƒ  2 -->
    <div class="carousel-item">
      <a href="#">
        <img src="img/banner2.png" alt="ãƒãƒŠãƒ¼2">
        <div class="banner-text">
          è‹¥ãæ‰èƒ½ãŒãƒ”ãƒƒãƒã‚’é§†ã‘ã‚‹
        </div>
      </a>
    </div>

    <!-- ãƒãƒŠãƒ¼ã‚¢ã‚¤ãƒ†ãƒ  3 -->
    <div class="carousel-item">
      <a href="#">
        <img src="img/banner1.png" alt="ãƒãƒŠãƒ¼3">
        <div class="banner-text">
          æ¬§å·ã§æ´»èºã™ã‚‹æ—¥æœ¬äººé¸æ‰‹ç‰¹é›†
        </div>
      </a>
    </div>

    <!-- ãƒãƒŠãƒ¼ã‚¢ã‚¤ãƒ†ãƒ  4 -->
    <div class="carousel-item">
      <a href="#">
        <img src="img/banner4.png" alt="ãƒãƒŠãƒ¼4">
        <div class="banner-text">
          ã‚ãªãŸã®ãƒ™ã‚¹ãƒˆ11ã‚’ä½œã‚ã†ï¼
        </div>
      </a>
    </div>
  </div>
  
  <!-- å·¦å³ã®çŸ¢å°ãƒœã‚¿ãƒ³ -->
  <button class="carousel-btn prev" id="carousel-prev-btn">â®</button>
  <button class="carousel-btn next" id="carousel-next-btn">â¯</button>

<!-- â–²â–²â–² ç½®ãæ›ãˆã¯ã“ã“ã¾ã§ â–²â–²â–² --><!-- â–²â–²â–² ç½®ãæ›ãˆã¯ã“ã“ã¾ã§ â–²â–²â–² -->    </div>
  <!-- (ä»¥ä¸‹ã€mainã‚¿ã‚°ã®ä¸­èº«ã¯å¤‰æ›´ãªã—) -->
  <div id="page-title-top" class="page-title-row" style="display:flex;">
    <h1>
      Jãƒªãƒ¼ã‚° ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–æŒ‡æ•°ğŸ“Š
      <span class="score-calc-btn" tabindex="0">ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–æŒ‡æ•°ã¨ã¯
        <span class="score-calc-pop">
          Jãƒªãƒ¼ã‚°å„ã‚¯ãƒ©ãƒ–ãŒã©ã‚Œã ã‘ã€Œãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã€ã«è¿‘ã¥ã„ã¦ã„ã‚‹ã®ã‹ã‚’ã€å®Ÿç¸¾ã‚„äººæ°—ãªã©4ã¤ã®æŒ‡æ¨™ã‚’åŸºã«ã‚¹ã‚³ã‚¢åŒ–ã—ãŸã‚‚ã®ã§ã™ã€‚
          ãƒ»<b>50ä»¥ä¸Š</b>ï¼š<span style="color:#ffd700;font-weight:bold;">ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–</span>
          ãƒ»<b>30ï½49.9</b>ï¼š<span style="color:#e94444;font-weight:bold;">æœ‰æœ›ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–</span>
          ãƒ»<b>20ï½29.9</b>ï¼š<span style="color:#22bbf0;font-weight:bold;">æ½œåœ¨çš„ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–</span>
          ãƒ»<b>5ï½19.9</b>ï¼š<span style="color:#999;font-weight:bold;">ä¸­å …ã‚¯ãƒ©ãƒ–</span>
          ãƒ»<b>4.9ä»¥ä¸‹</b>ï¼š<span style="color:#aaa;font-weight:bold;">ãƒ­ãƒ¼ã‚«ãƒ«ã‚¯ãƒ©ãƒ–</span>
          <div class="calc-note">
            â€»2024å¹´ã¾ã§ã®ãƒ‡ãƒ¼ã‚¿ã§è¨ˆç®—
            â€»è©³ã—ãã¯ã‚¹ã‚³ã‚¢è¨ˆç®—æ–¹æ³•ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
          </div>
        </span>
      </span>
    </h1>
  </div>
  <div id="page-title-metrics" class="page-title-row" style="display:none;"><h1>ã‚¯ãƒ©ãƒ–æŒ‡æ¨™</h1></div>
  <div id="page-title-history" class="page-title-row" style="display:none;"><h1>Jãƒªãƒ¼ã‚°éå»ãƒ‡ãƒ¼ã‚¿</h1></div>
  <div id="page-title-history" class="page-title-row" style="display:none;"><h1>Jãƒªãƒ¼ã‚°éå»ãƒ‡ãƒ¼ã‚¿</h1></div>
  <!-- â–¼â–¼â–¼ ã“ã®è¡Œã‚’è¿½åŠ  â–¼â–¼â–¼ -->
  <div id="page-title-rankings" class="page-title-row" style="display:none;"><h1>Jãƒªãƒ¼ã‚° é †ä½è¡¨ï¼ˆ2025ã‚·ãƒ¼ã‚ºãƒ³ï¼‰</h1></div>
  <div id="page-title-introduce" class="page-title-row" style="display:none;"><h1>å„ã‚¯ãƒ©ãƒ–ç´¹ä»‹</h1></div>
  <div id="page-title-europe" class="page-title-row" style="display:none;"><h1>25-26ã‚·ãƒ¼ã‚ºãƒ³ 5å¤§ãƒªãƒ¼ã‚°æ—¥æœ¬äººé¸æ‰‹</h1></div>
  <div id="page-title-europe-top20" class="page-title-row" style="display:none;"><h1>æ¬§å·ã‚¯ãƒ©ãƒ– å£²ä¸Šé«˜TOP20ï¼ˆ24-25ã‚·ãƒ¼ã‚ºãƒ³ï¼‰</h1></div>
  <div id="europe-top20" class="page-section"></div>
  <div id="page-title-best11" class="page-title-row" style="display:none;"><h1>ãƒ™ã‚¹ãƒˆ11ã‚’ä½œã‚‹</h1></div>
  <div id="page-title-blog" class="page-title-row" style="display:none;"><h1>è¨˜äº‹ãƒ»ãƒ–ãƒ­ã‚°</h1></div>
  
  <div id="top" class="page-section visible">
    <div class="big5-container" id="big5-cards"></div>
    <div class="club-table-container">
      <h2 style="text-align:center; margin-bottom:8px; color:#baf7fa; font-size:1.25rem;">6ä½ä»¥ä¸‹ã‚¯ãƒ©ãƒ–</h2>
      <div id="club-categories"></div>
    </div>
  </div>
  <div id="metrics" class="page-section">
    <span class="table-note">â€»ä¸¦ã³ã¯ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã‚¹ã‚³ã‚¢é †<br>â€»æŸãƒ»æ¹˜å—ã®å£²ä¸Šã¯2023å¹´</span>
    <div class="metric-btn-row">
      <button class="metric-btn active" onclick="showMetricChart('revenue')">å£²ä¸Šé«˜ï¼ˆ2024ï¼‰</button>
      <button class="metric-btn" onclick="showMetricChart('audience')">è¦³å®¢å‹•å“¡æ•°ï¼ˆ2024ï¼‰</button>
      <button class="metric-btn" onclick="showMetricChart('titles')">ã‚¿ã‚¤ãƒˆãƒ«æ•°ï¼ˆ2024ã¾ã§ï¼‰</button>
    </div>
    <div class="metrics-chart-wrap">
      <canvas id="metricChart" width="1000" height="520"></canvas>
    </div>
  </div>
  <div id="history" class="page-section">
    <span class="table-note">â€»ä¸¦ã³ã¯ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã‚¹ã‚³ã‚¢é †<br>â€»åœ¨ç±ã—ã¦ã„ãªã„å¹´ã¯21ä½ã§è¨ˆç®—</span>
    <div id="jleague-history"></div>
  </div>
  <!-- â–¼â–¼â–¼ ã“ã®divã‚’ã¾ã‚‹ã”ã¨è¿½åŠ ã—ã¦ãã ã•ã„ â–¼â–¼â–¼ -->
  <div id="rankings" class="page-section">
    <div id="rank-buttons" style="text-align:center; margin: 20px 0;">
      <button class="rank-tab-btn active" onclick="showRankingTable('J1')">J1</button>
      <button class="rank-tab-btn" onclick="showRankingTable('J2')">J2</button>
      <button class="rank-tab-btn" onclick="showRankingTable('J3')">J3</button>
    </div>
    <div id="ranking-table-container">
      <!-- ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
    </div>
  </div>
  <div id="introduce" class="page-section">
    <div id="club-status-board" style="display:none;"></div>
    <div id="club-league-tabs" style="text-align:center; margin-bottom:20px;">
      <button class="league-tab-btn active" data-league="J1">J1</button>
      <button class="league-tab-btn" data-league="J2">J2</button>
      <button class="league-tab-btn" data-league="J3">J3</button>
      <button class="league-tab-btn" data-league="JFL">JFL</button>
    </div>
    <div id="club-league-table"></div>
  </div>
  <div id="europe" class="page-section" style="display:none;">
    <h2 style="text-align:center;"></h2>
    <div id="europe-flex-row" style="display:flex; flex-direction:row; gap:36px; align-items:flex-start; justify-content:flex-start;">
      <div id="map-container" style="position:relative; width:430px; height:410px; flex-shrink:0;">
        <img src="img/europe.png" alt="ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘åœ°å›³" width="430" height="410" style="border-radius:13px; display:block;">
        <button class="country-btn" data-country="ã‚¤ãƒ³ã‚°ãƒ©ãƒ³ãƒ‰" style="position:absolute; left:30px; top:200px; width:60px; height:70px;"></button>
        <button class="country-btn" data-country="ã‚¹ãƒšã‚¤ãƒ³"   style="position:absolute; left:10px; top:335px; width:70px; height:60px;"></button>
        <button class="country-btn" data-country="ãƒ•ãƒ©ãƒ³ã‚¹"   style="position:absolute; left:70px; top:280px; width:65px; height:60px;"></button>
        <button class="country-btn" data-country="ã‚¤ã‚¿ãƒªã‚¢"   style="position:absolute; left:160px; top:320px; width:50px; height:80px;"></button>
        <button class="country-btn" data-country="ãƒ‰ã‚¤ãƒ„"     style="position:absolute; left:130px; top:240px; width:60px; height:60px;"></button>
      </div>
      <div id="player-table-wrap" style="min-width:280px; max-width:1000px; width:100%; padding-top:9px;"></div>
    </div>
  </div>
  <div id="best11" class="page-section" style="display:none;">
    <div id="best11-capture-area">
      <div style="font-size:2.1em; font-weight:bold; color:#fff; margin-bottom:8px;">#ã‚ãªãŸã®ãƒ™ã‚¹ãƒˆã‚¤ãƒ¬ãƒ–ãƒ³</div>
      <div id="formation-title" style="font-size:1.13em; color:#eaf7fc; margin-bottom:14px;">ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼š3-4-3</div>
      <div id="best11-capture-core">
        <div style="min-width:370px; max-width:380px; position:relative;">
          <img src="img/court.png" style="width:360px;height:350px;border-radius:16px;box-shadow:0 2px 10px #0017;display:block;position:absolute;left:0;top:0;z-index:1;">
          <div id="court-area"></div>
        </div>
        <div style="flex:1; position: relative; max-width: 510px; margin: 0 auto;">
          <div id="best11-table"></div>
          <div id="table-footer">Jleague-big-club.com</div>
        </div>
      </div>
            <!-- ãƒœã‚¿ãƒ³ã‚’æ¨ªä¸¦ã³ã«ã™ã‚‹ãŸã‚ã®ã‚³ãƒ³ãƒ†ãƒŠ -->
      <div id="capture-buttons" style="position:absolute; right:24px; top:18px; z-index:100; display:flex; gap:10px;">
         <button id="copy-best11-img-btn" class="capture-action-btn secondary-action">ç”»åƒã‚’ã‚³ãƒ”ãƒ¼</button>
  <button id="post-to-x-btn" class="capture-action-btn" title="Xã«æŠ•ç¨¿">
          <!-- Xã®ãƒ­ã‚´SVG -->
          <svg viewBox="0 0 24 24" aria-hidden="true" style="width: 1.2em; height: 1.2em; fill: currentColor;"><g><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></g></svg>
          <span>Xã«æŠ•ç¨¿</span>
        </button>
      </div>
      <span id="copy-best11-img-msg" style="position:absolute; right:26px; top:65px; color:#fff970; font-size:1em;"></span>
    </div>
         <!-- â–¼â–¼â–¼ ã“ã®divã‚’ã¾ã‚‹ã”ã¨ç½®ãæ›ãˆã¦ãã ã•ã„ â–¼â–¼â–¼ -->
    <div id="best11-controls">
            <!-- 1. ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é¸æŠ -->
      <div id="formation-buttons" style="text-align:center;margin:19px auto 8px auto;">
        <!-- â–¼â–¼â–¼ ã“ã®è¡Œã‚’è¿½åŠ  â–¼â–¼â–¼ -->
        <div style="margin-bottom:7px; font-weight:bold;">ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é¸ã‚“ã§ãã ã•ã„</div>
        
        <button class="formation-btn active" onclick="setFormation('343', this)">3-4-3</button>
        <button class="formation-btn" onclick="setFormation('433', this)">4-3-3</button>
      </div>

      <!-- 2. ãƒã‚¸ã‚·ãƒ§ãƒ³é¸æŠ -->
      <div id="position-tabs" style="max-width:950px; margin:0 auto: 15px auto;">
        <div style="margin-bottom:7px; font-weight:bold;">ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’é¸ã‚“ã§ãã ã•ã„</div>
        <div id="position-btn-container" class="position-btn-row">
          <!-- (ãƒœã‚¿ãƒ³ã¯JSã§ç”Ÿæˆ) -->
        </div>
      </div>

      <!-- 3. çµã‚Šè¾¼ã¿ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ -->
      <div id="best11-filters" style="text-align: center; margin-bottom: 20px; padding: 10px; background: #2a3758; border-radius: 12px;">
        <!-- (JSã§ç”Ÿæˆ) -->
      </div>
      
      <!-- 4. é¸æ‰‹é¸æŠãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ï¼ˆä¸€ç•ªä¸‹ï¼‰ -->
      <div id="player-choice-list" style="text-align:center; margin-bottom: 26px;">
          <!-- (ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ã¯JSã§ç”Ÿæˆ) -->
      </div>
    </div>

    
    </div>
      <!-- (id="blog" ã® div ã®å‰ãªã©ã«è¿½åŠ ) -->

<!-- â–¼â–¼â–¼ å¹³å‡è¦³å®¢æ•°ãƒšãƒ¼ã‚¸ã®ã‚¿ã‚¤ãƒˆãƒ«ã‚’è¿½åŠ  â–¼â–¼â–¼ -->
<div id="page-title-attendance" class="page-title-row" style="display:none;"><h1>Jãƒªãƒ¼ã‚° å¹³å‡è¦³å®¢æ•°</h1></div>

<!-- â–¼â–¼â–¼ id="attendance"ã®divã®ä¸­èº«ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ â–¼â–¼â–¼ -->
<div id="attendance" class="page-section" style="display:none;">
  
  <!-- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
  <div id="attendance-controls" style="display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 15px 20px; margin-bottom: 25px;">
    
    <!-- â–¼â–¼â–¼ å¹´åº¦é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã‚’è¿½åŠ  â–¼â–¼â–¼ -->
    <div style="display: flex; align-items: center; gap: 8px;">
        <label for="attendance-year-select" style="font-weight: bold;">å¹´åº¦:</label>
        <select id="attendance-year-select" style="padding: 8px 12px; font-size: 1rem; border-radius: 8px; border: 2px solid #5a75a7; background-color: #232947; color: #fff; font-weight: bold;">
            <!-- å¹´åº¦ã®é¸æŠè‚¢ã¯JSã§ç”Ÿæˆ -->
        </select>
    </div>

    <div id="attendance-league-btns">
      <!-- ãƒªãƒ¼ã‚°ãƒœã‚¿ãƒ³ã¯JSã§ç”Ÿæˆ -->
    </div>
    
    <select id="attendance-club-select" style="padding: 8px 12px; font-size: 1rem; border-radius: 8px; border: 2px solid #5a75a7; background-color: #232947; color: #fff; font-weight: bold;">
      <!-- ã‚¯ãƒ©ãƒ–é¸æŠè‚¢ã¯JSã§ç”Ÿæˆ -->
    </select>
  </div>
  
  <!-- ãƒ†ãƒ¼ãƒ–ãƒ«ã¾ãŸã¯ã‚°ãƒ©ãƒ•ã®è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
  <div id="attendance-output-container">
    <!-- ãƒ†ãƒ¼ãƒ–ãƒ«ã¯ã“ã“ã«è¡¨ç¤º -->
  </div>
  
  <!-- ã‚°ãƒ©ãƒ•ç”¨ã®Canvasï¼ˆæœ€åˆã¯éè¡¨ç¤ºï¼‰ -->
  <div id="attendance-chart-wrap" class="metrics-chart-wrap" style="display: none;">
      <canvas id="attendanceChart"></canvas>
  </div>

</div>
</div>
  </div>
  <div id="blog" class="page-section" style="display:none;">
    <div id="blog-content" style="display: none; text-align: left; max-width: 800px; margin: 20px auto; padding: 25px; background: #fff; color: #333; border-radius: 12px; box-shadow: 0 2px 10px #0002;"></div>
    <div id="blog-list-container" style="display:flex; flex-wrap:wrap; gap:20px; justify-content:center;"></div>
    <div id="pagination" style="text-align:center; margin-top:20px;"></div>
  </div>
<!-- â–¼â–¼â–¼ ã“ã“ã‹ã‚‰ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒšãƒ¼ã‚¸ã‚’ã¾ã‚‹ã”ã¨è¿½åŠ  â–¼â–¼â–¼ -->
<div id="simulation" class="page-section" style="display:none;">
    <div class="sim-container">
        <h2>ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ– ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h2>
        <p class="sim-note">ã‚¯ãƒ©ãƒ–ã‚’é¸æŠã—ã€ã„ãšã‚Œã‹ã®æ•°å€¤ã‚’å¤‰æ›´ã™ã‚‹ã¨ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã‚¹ã‚³ã‚¢ãŒã©ã†å¤‰ã‚ã‚‹ã‹è¨ˆç®—ã§ãã¾ã™ã€‚</p>
        
        <div class="sim-controls">
            <div class="sim-select-group">
                <label for="sim-league-select">ãƒªãƒ¼ã‚°é¸æŠ</label>
                <select id="sim-league-select"></select>
            </div>
            <div class="sim-select-group">
                <label for="sim-club-select">ã‚¯ãƒ©ãƒ–é¸æŠ</label>
                <select id="sim-club-select" disabled></select>
            </div>
        </div>
        
        <div class="sim-form-area">
            <div class="sim-input-grid">
                <div class="sim-input-group">
                    <label for="sim-revenue">å£²ä¸Šé«˜ (å„„å††)</label>
                    <input type="number" id="sim-revenue" class="sim-input" placeholder="æ•°å€¤ã‚’å…¥åŠ›..." disabled>
                </div>
                <div class="sim-input-group">
                    <label for="sim-audience">å¹³å‡è¦³å®¢å‹•å“¡æ•° (äºº)</label>
                    <input type="number" id="sim-audience" class="sim-input" placeholder="æ•°å€¤ã‚’å…¥åŠ›..." disabled>
                </div>
                <div class="sim-input-group">
                    <label for="sim-titles">ç´¯è¨ˆã‚¿ã‚¤ãƒˆãƒ«æ•°</label>
                    <input type="number" id="sim-titles" class="sim-input" placeholder="æ•°å€¤ã‚’å…¥åŠ›..." disabled>
                </div>
                <div class="sim-input-group">
                    <label for="sim-avg-rank">éå»10å¹´ J1å¹³å‡é †ä½</label>
                    <input type="number" step="0.1" id="sim-avg-rank" class="sim-input" placeholder="æ•°å€¤ã‚’å…¥åŠ›..." disabled>
                </div>
            </div>
        </div>

        <div id="sim-result-area">
            <p>ã‚¯ãƒ©ãƒ–ã‚’é¸æŠã™ã‚‹ã¨ã€ã“ã“ã«ã‚¹ã‚³ã‚¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
        </div>
    </div>
</div>
<!-- â–²â–²â–² è¿½åŠ ã¯ã“ã“ã¾ã§ â–²â–²â–² -->
</main>

<button id="score-method-btn" style="position: fixed; bottom: 27px; right: 24px; z-index: 9999; background: #fff; color: #232947; font-weight: bold; border: none; border-radius: 28px; box-shadow: 0 2px 14px #2222; padding: 11px 21px; font-size: 1.10rem; cursor: pointer;">
  ã‚¹ã‚³ã‚¢è¨ˆç®—æ–¹æ³•
</button>
<div id="score-method-pop" style="display:none; position: fixed; bottom: 77px; right: 33px; min-width: 330px; max-width: 95vw; background: #fff; color: #222; border-radius: 17px; box-shadow: 0 2px 19px #2226; padding: 22px 22px 18px 24px; z-index: 10001; font-size: 1.04rem; line-height: 1.7; border: 1.4px solid #29b6e6;">
  <div style="font-size: 1.18em; font-weight: bold; margin-bottom: 11px;">ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–æŒ‡æ•°ã®è¨ˆç®—æ–¹æ³•</div>
  <ul style="margin:0 0 0 1em; padding: 0 0 0 0.6em;">
    <li><b>å£²ä¸Šã‚¹ã‚³ã‚¢ï¼š</b> = å£²ä¸Šé«˜ï¼ˆå„„å††ï¼‰ Ã· 200 Ã— 100</li>
    <li><b>è¦³å®¢ã‚¹ã‚³ã‚¢ï¼š</b> = å¹³å‡è¦³å®¢å‹•å“¡æ•° Ã· 45,000 Ã— 100</li>
    <li><b>ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ã‚³ã‚¢ï¼š</b> = ã‚¿ã‚¤ãƒˆãƒ«æ•°ï¼ˆã‚¹ãƒ¼ãƒ‘ãƒ¼æ¯é™¤ãï¼‰ Ã· 98 Ã— 100</li>
    <li><b>J1åœ¨ç±10å¹´å¹³å‡é †ä½ã‚¹ã‚³ã‚¢ï¼š</b> = 21 âˆ’ J1åœ¨ç±10å¹´å¹³å‡é †ä½</li>
    <li style="margin-top:7px;"><b>ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã‚¹ã‚³ã‚¢ï¼š</b><br> = å£²ä¸Šã‚¹ã‚³ã‚¢ Ã— 0.3 ï¼‹ è¦³å®¢ã‚¹ã‚³ã‚¢ Ã— 0.15 ï¼‹ ã‚¿ã‚¤ãƒˆãƒ«ã‚¹ã‚³ã‚¢ Ã— 0.25 ï¼‹ å¹³å‡é †ä½ã‚¹ã‚³ã‚¢ Ã— 0.3</li>
  </ul>
  <div style="text-align:right; margin-top:14px;">
    <a href="#" id="score-detail-link" style="color:#299ad3; text-decoration:underline; font-weight:bold; font-size:0.98em; cursor:pointer;">æ•°å€¤ã®è¨­å®šãªã©è©³ç´°</a>
  </div>
</div>
<div id="score-detail-pop" style="display:none; position: fixed; bottom: 77px; right: 33px; min-width: 330px; max-width: 95vw; background: #fff; color: #222; border-radius: 17px; box-shadow: 0 2px 19px #2226; padding: 22px 22px 18px 24px; z-index: 10001; font-size: 1.04rem; line-height: 1.7; border: 1.4px solid #29b6e6; max-height: 72vh; overflow-y: auto;">
  <div style="font-size: 1.06em; margin-top: 19px; line-height: 1.85;">
    <b>ãªãœã“ã®æŒ‡æ¨™ã‚’ä½¿ã†ã®ã‹ï¼Ÿ</b><br>
    <ul style="margin-top: 8px;">
      <li>æœ¬ã‚µã‚¤ãƒˆã®ã€Œãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–æŒ‡æ•°ã€ã¯ã€<b>æ—¥æœ¬ã‚µãƒƒã‚«ãƒ¼ç•Œã§â€œãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–â€ã¨ã•ã‚Œã‚‹æ¡ä»¶</b>ã‚’ã§ãã‚‹ã ã‘æ•°å€¤ã§å¯è¦–åŒ–ã™ã‚‹ãŸã‚ã«ä½œæˆã—ã¾ã—ãŸã€‚</li>
      <li>ã€Œãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã€ã¨å‘¼ã°ã‚Œã‚‹ã‚¯ãƒ©ãƒ–ã¯ã€<b>çµŒå–¶è¦æ¨¡ï¼ˆå£²ä¸Šï¼‰</b>ãƒ»<b>è¦³å®¢å‹•å“¡</b>ãƒ»<b>ã‚¿ã‚¤ãƒˆãƒ«ç²å¾—æ•°</b>ãƒ»<b>J1ã§ã®å®Ÿç¸¾</b>ã¨ã„ã†4ã¤ã®å´é¢ã§æ˜ã‚‰ã‹ãªå¼·ã¿ã‚’æŒã£ã¦ã„ã¾ã™ã€‚</li>
      <li>ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘ä¸»è¦ãƒªãƒ¼ã‚°ã®ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ï¼ˆä¾‹ï¼šãƒãƒ³ãƒã‚§ã‚¹ã‚¿ãƒ¼Uã€ãƒ¬ã‚¢ãƒ«ãƒ»ãƒãƒ‰ãƒªãƒ¼ãƒ‰ãªã©ï¼‰ã‚‚ã€çµŒå–¶è¦æ¨¡ã‚„è¦³å®¢æ•°ã€ã‚¿ã‚¤ãƒˆãƒ«ç²å¾—ã€å®‰å®šã—ãŸä¸Šä½æˆç¸¾ã¨ã„ã£ãŸæŒ‡æ¨™ãŒæ³¨ç›®ã•ã‚Œã¦ã„ã¾ã™ã€‚</li>
      <li>Jãƒªãƒ¼ã‚°ã§ã‚‚åŒã˜è¦–ç‚¹ã§æ¯”è¼ƒã§ãã‚‹ã‚ˆã†ã€<b>4ã¤ã®æŒ‡æ¨™</b>ã‚’çµ„ã¿åˆã‚ã›ã¦ã‚¹ã‚³ã‚¢åŒ–ã—ã¦ã„ã¾ã™ã€‚</li>
    </ul>
    <b>ãªãœã“ã®æ¯”ç‡ï¼ˆé‡ã¿ï¼‰ãªã®ã‹ï¼Ÿ</b><br>
    <ul style="margin-top: 8px;">
      <li>å£²ä¸Šé«˜ã‚„è¦³å®¢å‹•å“¡ã¯â€œäººæ°—â€ã‚„â€œå½±éŸ¿åŠ›â€ã®æŒ‡æ¨™ã€ã‚¿ã‚¤ãƒˆãƒ«ã‚„é †ä½ã¯â€œå®Ÿç¸¾â€ã‚„â€œå¼·ã•â€ã®æŒ‡æ¨™ã§ã™ã€‚</li>
      <li>ã‚¯ãƒ©ãƒ–ã®ç·åˆåŠ›ãƒ»â€œãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã‚‰ã—ã•â€ãŒæœ€ã‚‚åæ˜ ã•ã‚Œã‚‹ã‚ˆã†ã€<b>å£²ä¸Š/é †ä½=30%ãšã¤ã€ã‚¿ã‚¤ãƒˆãƒ«=25%ã€è¦³å®¢å‹•å“¡=15%</b>ã®æ¯”ç‡ã§èª¿æ•´ã—ã¦ã„ã¾ã™ã€‚â€»è¦³å®¢å‹•å“¡ã¯ç„¡æ–™è¦³å®¢ã‚‚å«ã‚€ã®ã§æ¯”é‡ã¯ä½ãè¨­å®š</li>
    </ul>
    <b>ã€ä¾‹ã€‘æµ¦å’Œãƒ¬ãƒƒã‚ºã®ã‚¹ã‚³ã‚¢</b><br>
    <ul style="margin-top: 8px;">
      <li>2024å¹´æ™‚ç‚¹ã§ã€æµ¦å’Œãƒ¬ãƒƒã‚ºã¯ã€Œéå»10å¹´ã®J1å¹³å‡é †ä½ã€ã¯7.2ä½ã§ã™ãŒã€ã€Œå£²ä¸Šé«˜ã€ã€Œè¦³å®¢å‹•å“¡æ•°ã€ã€Œã‚¿ã‚¤ãƒˆãƒ«æ•°ã€ã¯Jãƒªãƒ¼ã‚°ãƒˆãƒƒãƒ—ã‚¯ãƒ©ã‚¹ã§ã™ã€‚</li>
      <li>ãã®ãŸã‚ã€æŒ‡æ¨™ã®åˆè¨ˆã‚¹ã‚³ã‚¢ãŒã‚‚ã£ã¨ã‚‚é«˜ãã€ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–æŒ‡æ•°1ä½ã¨ãªã‚Šã¾ã™ã€‚</li>
      <li>ã“ã®ã‚ˆã†ã«ã€<b>çµŒå–¶è¦æ¨¡ãƒ»äººæ°—ãƒ»å¼·ã•ã®å…¨ã¦ã§éš›ç«‹ã¤ã‚¯ãƒ©ãƒ–ãŒâ€œãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–â€ã¨è©•ä¾¡ã•ã‚Œã‚‹æ§‹é€ </b>ã«ãªã£ã¦ã„ã¾ã™ã€‚</li>
      <li>ã¾ãŸã€å½“ã‚µã‚¤ãƒˆã§åŸºæº–ã¨ã™ã‚‹ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã‚¹ã‚³ã‚¢(50ä»¥ä¸Š)ã‚’è¶…ãˆã‚‹ã«ã¯ã€æµ¦å’Œã®å ´åˆã€å£²ä¸ŠãŒç´„180å„„å††ã€å¹³å‡è¦³å®¢ãŒ40500äººã€éå»10å¹´J1å¹³å‡é †ä½ãŒ4.5ä½ä»¥ä¸ŠãŒå¿…è¦ã«ãªã‚Šã¾ã™</li>
    </ul>
    <span style="color: #18a; font-size: 0.98em;">â€» ä»Šå¾Œã‚‚æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚„æ„è¦‹ã‚’ã‚‚ã¨ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆäºˆå®šã§ã™ã€‚</span>
  </div>
</div>

<script>
    // === ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•° ===
    let clubData = [];
    let clubLeagueList = [];
    let playerData = [];
    let attendanceData = [];
    let europeTopClubs = [];
    let metricChart;
    let best11Filter = { type: 'all', value: null };
    let rankingData = {};
    let isShowingArticleDetail = false;

    // === ãƒšãƒ¼ã‚¸è¡¨ç¤ºåˆ‡æ›¿ ===
    function showPage(id, btn) {
        document.querySelectorAll('.page-section').forEach(sec => sec.classList.remove('visible'));
        const targetPage = document.getElementById(id);
        if(targetPage) targetPage.classList.add('visible');
        document.querySelectorAll('.page-title-row').forEach(row => row.style.display = 'none');
        let titleId = id;
        if (id === 'europe-top20') titleId = 'europe-top20';
        const pageTitleDiv = document.getElementById('page-title-' + titleId);
        if (pageTitleDiv) pageTitleDiv.style.display = 'flex';
        document.querySelectorAll('.nav-links button').forEach(b => b.classList.remove('active'));
        if (btn) {
            btn.classList.add('active');
            const parentDropdown = btn.closest('.nav-dropdown');
            if (parentDropdown) {
                parentDropdown.querySelector('button').classList.add('active');
            }
        }
        const scoreBtn = document.getElementById('score-method-btn');
        if (scoreBtn) {
            scoreBtn.style.display = (id === 'top') ? 'block' : 'none';
            if (id !== 'top') {
                document.getElementById('score-method-pop').style.display = 'none';
                document.getElementById('score-detail-pop').style.display = 'none';
            }
        }
        const banner = document.querySelector('.carousel-container');
        if (banner) {
            banner.style.display = (id === 'top') ? 'block' : 'none';
        }
        
        // â–¼â–¼â–¼ ã“ã®ifãƒ–ãƒ­ãƒƒã‚¯ã‚’ã¾ã‚‹ã”ã¨è¿½åŠ ã—ã¦ãã ã•ã„ â–¼â–¼â–¼
        if (id === 'blog' && !isShowingArticleDetail) {
            // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒŠãƒ“ã‹ã‚‰ç›´æ¥ã€Œè¨˜äº‹ã€ãƒšãƒ¼ã‚¸ã‚’é–‹ã“ã†ã¨ã—ãŸå ´åˆã€
            // å¼·åˆ¶çš„ã«è¨˜äº‹ä¸€è¦§ãƒšãƒ¼ã‚¸ã®çŠ¶æ…‹ã«æˆ»ã™
            const pageTitle = document.querySelector('#page-title-blog h1');
            if (pageTitle) pageTitle.textContent = 'è¨˜äº‹ãƒ»ãƒ–ãƒ­ã‚°';
            renderArticleList(currentPage);
        }
        // â–²â–²â–² è¿½åŠ ã¯ã“ã“ã¾ã§ â–²â–²â–²

        if (id === 'europe' && playerData.length > 0) {
            document.querySelectorAll(".country-btn").forEach(b => b.classList.remove("active"));
            showPlayerTable();
        }
        if (id === 'introduce' && clubData.length > 0) {
            document.querySelectorAll(".league-tab-btn").forEach(b => b.classList.remove("active"));
            const j1Tab = document.querySelector('.league-tab-btn[data-league="J1"]');
            if (j1Tab) j1Tab.classList.add('active');
            renderClubLeagueTable("J1");
        }
        if (id === 'best11' && playerData.length > 0) initBest11Page();
        if (id === 'rankings' && rankingData['J1']) showRankingTable('J1');
        if (id === 'simulation') initSimulationPage();
        if (id === 'attendance' && attendanceData.length > 0) initAttendancePage();
        
        // â–¼â–¼â–¼ã€ä¿®æ­£ç‚¹ã€‘ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã‚’é–‰ã˜ã‚‹å‡¦ç† â–¼â–¼â–¼
        const navLinks = document.getElementById('nav-links');
        const menuOverlay = document.getElementById('menu-overlay');
        if (navLinks && navLinks.classList.contains('open')) {
            navLinks.classList.remove('open');
            menuOverlay.classList.remove('open');
        }
    }

            function toggleSubMenu(btn, event) {
        event.preventDefault();
        event.stopPropagation();

        const parentDropdown = btn.parentElement;

        // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼ä»¥å¤–ã®ã€ä»–ã®é–‹ã„ã¦ã„ã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ã™ã¹ã¦é–‰ã˜ã‚‹
        document.querySelectorAll('.nav-links .nav-dropdown.menu-open').forEach(openMenu => {
            if (openMenu !== parentDropdown) {
                openMenu.classList.remove('menu-open');
            }
        });

        // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸãƒ¡ãƒ‹ãƒ¥ãƒ¼ã® 'menu-open' ã‚¯ãƒ©ã‚¹ã®æœ‰ç„¡ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ï¼ˆãƒˆã‚°ãƒ«ï¼‰
        parentDropdown.classList.toggle('menu-open');
    }

    // === èµ·å‹•æ™‚ã®ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿ ===
    document.addEventListener("DOMContentLoaded", () => {
        const fetchWithMeta = (url) => fetch(url).then(res => {
            if (!res.ok) return Promise.reject(`${url}: ${res.status}`);
            const lastModified = res.headers.get('Last-Modified');
            return res.text().then(text => ({ text, lastModified }));
        });

        const parseCsvLine = (line) => {
            const result = [];
            let current = '';
            let inQuotes = false;
            for (let i = 0; i < line.length; i++) {
                const char = line[i];
                if (char === '"') {
                    inQuotes = !inQuotes;
                } else if (char === ',' && !inQuotes) {
                    result.push(current.trim());
                    current = '';
                } else {
                    current += char;
                }
            }
            result.push(current.trim());
            return result;
        };

        Promise.all([
            fetch("data/data.csv").then(res => res.ok ? res.text() : Promise.reject(`data.csv: ${res.status}`)),
            fetch("data/playerdata.csv").then(res => res.ok ? res.text() : Promise.reject(`playerdata.csv: ${res.status}`)),
            fetchWithMeta("data/attendancefigure.csv"),
            fetchWithMeta("data/j1rank.csv"),
            fetchWithMeta("data/j2rank.csv"),
            fetchWithMeta("data/j3rank.csv"),
            fetch("data/europebigclub.csv").then(res => res.ok ? res.text() : Promise.reject(`europebigclub.csv: ${res.status}`))
        ])
        .then(([clubCsvText, playerCsvText, attendanceResponse, j1Response, j2Response, j3Response, europeCsvText]) => {
            let lines = clubCsvText.trim().split("\n"); let headers = lines[0].split(",").map(h => h.trim()); clubData = lines.slice(1).map(line => { const values = line.split(","); const obj = {}; headers.forEach((h, i) => obj[h] = values[i] ? values[i].trim() : ''); obj.name = obj["ã‚¯ãƒ©ãƒ–å"] || 'N/A'; obj.revenue = parseFloat(obj["å£²ä¸Šé«˜ï¼ˆå„„å††ï¼‰"]) || 0; obj.audience = parseInt(obj["å¹³å‡è¦³å®¢å‹•å“¡æ•°"]) || 0; obj.titles = parseInt(obj["ã‚¿ã‚¤ãƒˆãƒ«è¨ˆ"]) || 0; obj.sum = parseFloat(obj["ç·åˆçš„ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã‚¹ã‚³ã‚¢"]) || 0; obj.l = obj["éå»10å¹´J1åœ¨ç±å¹´æ•°"] || '0'; obj.m = obj["J1åœ¨ç±10å¹´å¹³å‡é †ä½"] || 'N/A'; obj.o = obj["J1åœ¨ç±10å¹´å¹³å‡é †ä½ã‚¹ã‚³ã‚¢"] || 'N/A'; obj.p = obj["æ‰€å±ãƒªãƒ¼ã‚°"] || 'N/A'; return obj; }); clubData.sort((a, b) => b.sum - a.sum); clubLeagueList = clubData;
            lines = playerCsvText.trim().split("\n"); headers = lines[0].split(",").map(h => h.trim()); playerData = lines.slice(1).map(line => { const vals = line.split(","); const obj = {}; headers.forEach((h, i) => obj[h] = vals[i] ? vals[i].trim() : ''); return obj; });
            let attendanceLines = attendanceResponse.text.trim().split("\n"); let attendanceHeaders = attendanceLines[0].split(",").map(h => h.trim()); attendanceData = attendanceLines.slice(1).map(line => { const values = line.split(","); const obj = {}; attendanceHeaders.forEach((h, i) => { const val = values[i] ? values[i].trim() : ''; if (['å¹´', 'å¹´é–“æœ€é«˜è¦³å®¢æ•°', 'å¹´é–“æœ€ä½è¦³å®¢æ•°', 'ã‚²ãƒ¼ãƒ æ•°'].includes(h)) { obj[h] = parseInt(val) || 0; } else if (h === 'å¹³å‡è¦³å®¢æ•°') { obj[h] = parseFloat(val) || 0; } else { obj[h] = val; } }); return obj; }); attendanceData.lastModified = attendanceResponse.lastModified;
            const parseRankingCsv = (csvText) => { if (!csvText || csvText.trim() === '') return { headers: [], data: [] }; const lines = csvText.trim().split("\n"); const headers = lines[0].split(",").map(h => h.trim()); const data = lines.slice(1).map(line => { const values = line.split(","); const rowObj = {}; headers.forEach((h, i) => { rowObj[h] = values[i] ? values[i].trim() : ''; }); return rowObj; }); return { headers, data }; }; rankingData['J1'] = parseRankingCsv(j1Response.text); rankingData['J1'].updated = j1Response.lastModified; rankingData['J2'] = parseRankingCsv(j2Response.text); rankingData['J2'].updated = j2Response.lastModified; rankingData['J3'] = parseRankingCsv(j3Response.text); rankingData['J3'].updated = j3Response.lastModified;
            let europeLines = europeCsvText.trim().split("\n");
            europeTopClubs = europeLines.slice(1).map(line => parseCsvLine(line));

            renderBig5(clubData);
            renderOthers(clubData);
            renderHistory(clubData);
            showMetricChart('revenue');
            renderClubLeagueTable("J1");
            renderBest11Filters();
            renderEuropeTop20Table();

            showPage('top', document.querySelector('nav button'));

        }).catch(err => {
            console.error("ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã¾ãŸã¯å‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:", err);
            document.body.innerHTML = `<div style="color:red; text-align:center; padding: 20px;">ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚<br>ãƒ•ã‚¡ã‚¤ãƒ«åã‚„å†…å®¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</div>`;
        });
        
        setupEventListeners();
        setupCarousel('banner-carousel', 4500);
    });

    function renderEuropeTop20Table() {
        const container = document.getElementById('europe-top20');
        if (!container || europeTopClubs.length === 0) return;
        const headers = ["é †ä½", "å›½", "ãƒªãƒ¼ã‚°", "ã‚¯ãƒ©ãƒ–å", "å£²ä¸Šé«˜ (å„„å††)", "å¹³å‡è¦³å®¢å‹•å“¡æ•°"];
        let tableHTML = `<div class="data-source-note">â€»ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹: Deloitte, Transfermarkt (1ãƒ¦ãƒ¼ãƒ­=165å††ã§è¨ˆç®—)</div>`;
        tableHTML += `<table><thead><tr>`;
        headers.forEach(h => tableHTML += `<th>${h}</th>`);
        tableHTML += `</tr></thead><tbody>`;
        europeTopClubs.forEach((club, index) => {
            tableHTML += `<tr>`;
            tableHTML += `<td>${index + 1}</td>`;
            tableHTML += `<td>${club[0] || '-'}</td>`;
            tableHTML += `<td>${club[1] || '-'}</td>`;
            tableHTML += `<td>${club[2] || '-'}</td>`;
            tableHTML += `<td>${club[4] ? parseFloat(club[4]).toLocaleString() : '-'}</td>`;
            tableHTML += `<td>${club[5] ? parseInt(club[5]).toLocaleString() : '-'}</td>`;
            tableHTML += `</tr>`;
        });
        tableHTML += `</tbody></table>`;
        container.innerHTML = tableHTML;
    }
    
    function renderBig5(clubs) { const big5 = clubs.slice(0, 5); const big5Div = document.getElementById("big5-cards"); big5Div.innerHTML = ""; const row1 = document.createElement("div"); row1.className = "big5-row"; const row2 = document.createElement("div"); row2.className = "big5-row"; big5.forEach((club, i) => { let colorClass = "local"; if (club.sum >= 30) colorClass = "top-club"; else if (club.sum >= 20) colorClass = "potential-big"; else if (club.sum >= 5) colorClass = "middle"; const isLong = club.name.length >= 10; const card = document.createElement("div"); card.className = `club-card ${colorClass} rank-${i+1}` + (isLong ? " long-title" : ""); card.innerHTML = `<h3 class="club-title">${club.name}</h3><div class="score-val">ã‚¹ã‚³ã‚¢ï¼š${club.sum.toFixed(1)}</div>`; if (i < 3) row1.appendChild(card); else row2.appendChild(card); }); big5Div.appendChild(row1); big5Div.appendChild(row2); }
    function renderOthers(clubs) { const others = clubs.slice(5); const tableDiv = document.getElementById("club-categories"); tableDiv.innerHTML = ""; const table = document.createElement("table"); const thead = table.createTHead(); const headerRow = thead.insertRow(); ["é †ä½", "ã‚¯ãƒ©ãƒ–å", "åˆç®—ã‚¹ã‚³ã‚¢", "åŒºåˆ†"].forEach(h => { const th = document.createElement("th"); th.textContent = h; headerRow.appendChild(th); }); const tbody = table.createTBody(); others.forEach((club, idx) => { let category, colorClass; if (club.sum >= 30) { category = "ãƒˆãƒƒãƒ—ã‚¯ãƒ©ãƒ–"; colorClass = "top-club"; } else if (club.sum >= 20) { category = "æ½œåœ¨çš„ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–"; colorClass = "potential-big"; } else if (club.sum >= 5)  { category = "ä¸­å …ã‚¯ãƒ©ãƒ–"; colorClass = "middle"; } else { category = "ãƒ­ãƒ¼ã‚«ãƒ«ã‚¯ãƒ©ãƒ–"; colorClass = "local"; } const tr = tbody.insertRow(); tr.className = colorClass; [idx + 6, club.name, club.sum.toFixed(1), category].forEach(val => { const td = document.createElement("td"); td.textContent = val; tr.appendChild(td); }); }); tableDiv.appendChild(table); }
    function showMetricChart(key) { document.querySelectorAll('.metric-btn').forEach(btn => btn.classList.remove('active')); const activeBtn = Array.from(document.querySelectorAll('.metric-btn')).find(btn => btn.getAttribute('onclick').includes(key)); if (activeBtn) activeBtn.classList.add("active"); const chartData = clubData.map(club => club[key]); const labels = clubData.map(club => club.name); if (metricChart) metricChart.destroy(); const ctx = document.getElementById("metricChart").getContext("2d"); metricChart = new Chart(ctx, { type: "bar", data: { labels: labels, datasets: [{ label: { revenue: "å£²ä¸Šé«˜ï¼ˆå„„å††ï¼‰", audience: "å¹³å‡è¦³å®¢å‹•å“¡ï¼ˆäººæ•°ï¼‰", titles: "ã‚¿ã‚¤ãƒˆãƒ«æ•°" }[key], data: chartData, backgroundColor: labels.map((_, i) => { let sum = clubData[i].sum; if (sum >= 30) return "#e94444bb"; else if (sum >= 20) return "#22bbf0cc"; else if (sum >= 5) return "#bbbbbbc8"; else return "#232947bb"; }), borderWidth: 1 }] }, options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false, scales: { x: { beginAtZero: true, ticks: { color: "#111" } }, y: { ticks: { autoSkip: false, color: "#111" } } }, plugins: { legend: { labels: { color: '#111' } }, title: { display: false } } } }); }
    function renderHistory(clubs) { const historyDiv = document.getElementById("jleague-history"); historyDiv.innerHTML = ""; const hisTable = document.createElement("table"); const hisThead = hisTable.createTHead(); const hisHeader = hisThead.insertRow(); ["ã‚¯ãƒ©ãƒ–å", "J1éå»10å¹´åœ¨ç±å¹´æ•°", "J1éå»10å¹´å¹³å‡é †ä½", "J1éå»10å¹´åœ¨ç±ã‚¹ã‚³ã‚¢"].forEach(h => { const th = document.createElement("th"); th.textContent = h; hisHeader.appendChild(th); }); const hisTbody = hisTable.createTBody(); clubs.forEach(club => { const tr = hisTbody.insertRow(); [club.name, club.l, club.m, club.o].forEach(val => { const td = document.createElement("td"); td.textContent = val; tr.appendChild(td); }); }); historyDiv.appendChild(hisTable); }
    function renderClubLeagueTable(league) { if (clubLeagueList.length === 0) return; const tableDiv = document.getElementById("club-league-table"); const rows = clubLeagueList.filter(club => club.p === league); if (!rows.length) { tableDiv.innerHTML = `<div style="padding:16px; color:white;">ã“ã®ãƒªãƒ¼ã‚°ã®ã‚¯ãƒ©ãƒ–ãƒ‡ãƒ¼ã‚¿ã¯ã‚ã‚Šã¾ã›ã‚“</div>`; return; } let html = `<table><thead><tr><th>ã‚¯ãƒ©ãƒ–å</th></tr></thead><tbody> ${rows.map(club => `<tr><td style="cursor:pointer; color:#3cf;" onclick="showClubStatus('${club.name}')">${club.name}</td></tr>`).join("")} </tbody></table>`; tableDiv.innerHTML = html; }
    function showClubStatus(clubName) { const club = clubData.find(c => c.name === clubName); if (!club) return; const rank = clubData.findIndex(c => c.name === clubName) + 1; const html = `<div style="font-size:1.36em; font-weight:bold; color:#97d7ff; margin-bottom:8px; letter-spacing:0.06em;">${clubName}</div> <div style="display:flex; flex-wrap:wrap; gap:13px 38px; font-size:1.13em;"> <div>ğŸ… <b>æ‰€å±ãƒªãƒ¼ã‚°:</b> ${club.p || '-'}</div> <div>ğŸ‘‘ <b>ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã‚¹ã‚³ã‚¢:</b> ${club.sum ? club.sum.toFixed(1) : '-'} <span style="font-size:0.97em;">ï¼ˆ${rank}ä½ï¼‰</span></div> <div>ğŸ’° <b>å£²ä¸Šé«˜:</b> ${club.revenue || '-'} å„„å††</div> <div>ğŸ‘¥ <b>å¹³å‡è¦³å®¢æ•°:</b> ${(club.audience || '-').toLocaleString()} äºº</div> <div>ğŸ† <b>ã‚¿ã‚¤ãƒˆãƒ«ç²å¾—æ•°:</b> ${club.titles || '-'}</div> <div>ğŸ“Š <b>J1åœ¨ç±10å¹´å¹³å‡é †ä½:</b> ${club.m || '-' } ä½</div> </div> <button onclick="document.getElementById('club-status-board').style.display='none';" style="position:absolute;top:13px;right:14px; background:#29b6e6; border:none; border-radius:7px; color:#fff; padding:5px 13px; font-size:1.01em; cursor:pointer;">é–‰ã˜ã‚‹</button>`; const board = document.getElementById("club-status-board"); board.innerHTML = html; board.style.display = "block"; }
    
    function showPlayerTable(country) {
        const div = document.getElementById("player-table-wrap");
        const majorLeagues = ["ãƒ—ãƒ¬ãƒŸã‚¢ãƒªãƒ¼ã‚°", "ãƒ–ãƒ³ãƒ‡ã‚¹ãƒªãƒ¼ã‚¬", "ã‚»ãƒªã‚¨A", "ãƒ©ãƒªãƒ¼ã‚¬", "ãƒªãƒ¼ã‚°ã‚¢ãƒ³"];
        let displayPlayers = playerData.filter(p => majorLeagues.includes(p['ãƒªãƒ¼ã‚°']));
        
        let leagueName = ''; 
        const countryToLeagueMap = {
            'ã‚¤ãƒ³ã‚°ãƒ©ãƒ³ãƒ‰': 'ãƒ—ãƒ¬ãƒŸã‚¢ãƒªãƒ¼ã‚°',
            'ã‚¹ãƒšã‚¤ãƒ³': 'ãƒ©ãƒ»ãƒªãƒ¼ã‚¬',
            'ãƒ‰ã‚¤ãƒ„': 'ãƒ–ãƒ³ãƒ‡ã‚¹ãƒªãƒ¼ã‚¬',
            'ã‚¤ã‚¿ãƒªã‚¢': 'ã‚»ãƒªã‚¨A',
            'ãƒ•ãƒ©ãƒ³ã‚¹': 'ãƒªãƒ¼ã‚°ãƒ»ã‚¢ãƒ³'
        };
        
        if (country) {
            displayPlayers = displayPlayers.filter(p => p['å›½'] === country);
            leagueName = countryToLeagueMap[country] || country;
        } else {
            leagueName = '5å¤§ãƒªãƒ¼ã‚°';
        }

        displayPlayers.sort((a, b) => (parseInt(a['å¹´é½¢']) || 99) - (parseInt(b['å¹´é½¢']) || 99));
        
        if (displayPlayers.length === 0) {
            div.innerHTML = `<div style="color:#ffe;padding:16px; text-align:center;">è©²å½“ã™ã‚‹é¸æ‰‹ãŒã„ã¾ã›ã‚“ã€‚</div>`;
            return;
        }
        
        const titleHtml = `<h3 style="text-align:center;color:#ffd700;">${leagueName}ã®æ—¥æœ¬äººé¸æ‰‹</h3>`;
        const headers = ['No.', 'å›½', 'ãƒªãƒ¼ã‚°', 'æ‰€å±ã‚¯ãƒ©ãƒ–', 'é¸æ‰‹å', 'å¹´é½¢', 'ãƒã‚¸ã‚·ãƒ§ãƒ³', 'è©³ç´°'];
        
        let html = titleHtml + `<table style="font-size: 0.88rem;"><thead><tr>${headers.map(h => `<th>${h}</th>`).join("")}</tr></thead><tbody>`;
        
        displayPlayers.forEach((player, i) => {
            html += `<tr>`;
            html += `<td>${i + 1}</td>`;
            headers.slice(1).forEach(h => {
                html += `<td>${player[h] || ''}</td>`;
            });
            html += `</tr>`;
        });
        
        html += `</tbody></table>`;
        div.innerHTML = html;
    }

    window.nowSelectedPosKey = null; let best11Formation = "343"; let best11Selected = {}; const best11Positions = { "343": [{key:"GK",label:"GK"},{key:"CB1",label:"CB1"},{key:"CB2",label:"CB2"},{key:"CB3",label:"CB3"},{key:"MF1",label:"MF1"},{key:"MF2",label:"MF2"},{key:"MF3",label:"MF3"},{key:"MF4",label:"MF4"},{key:"MF5",label:"MF5"},{key:"MF6",label:"MF6"},{key:"FW",label:"FW"}], "433": [{key:"GK",label:"GK"},{key:"CB1",label:"CB1"},{key:"CB2",label:"CB2"},{key:"CB3",label:"CB3"},{key:"CB4",label:"CB4"},{key:"MF1",label:"MF1"},{key:"MF2",label:"MF2"},{key:"MF3",label:"MF3"},{key:"MF4",label:"MF4"},{key:"MF5",label:"MF5"},{key:"FW",label:"FW"}] }; const best11PosCoords = { "343":{GK:{top:290,left:140},CB1:{top:225,left:50},CB2:{top:235,left:140},CB3:{top:225,left:230},MF1:{top:165,left:90},MF2:{top:165,left:190},MF3:{top:120,left:40},MF4:{top:120,left:240},MF5:{top:60,left:70},FW:{top:25,left:140},MF6:{top:60,left:210}}, "433":{GK:{top:290,left:140},CB1:{top:200,left:38},CB2:{top:235,left:100},CB3:{top:235,left:190},CB4:{top:200,left:240},MF1:{top:155,left:140},MF2:{top:130,left:55},MF3:{top:130,left:225},MF4:{top:70,left:70},FW:{top:25,left:140},MF5:{top:70,left:210}} };
    function renderBest11Filters() { const filtersDiv = document.getElementById('best11-filters'); if (!filtersDiv || playerData.length === 0) return; const leagues = ["J1", "J2", "J3"]; const clubsWithLeague = [...new Map(playerData.map(p => [p['æ‰€å±ã‚¯ãƒ©ãƒ–'], p['ãƒªãƒ¼ã‚°']])).entries()]; let html = `<button class="filter-btn active" onclick="setBest11Filter('all', null, this)">ã™ã¹ã¦</button> <button class="filter-btn" onclick="setBest11Filter('5-da-league', null, this)">5å¤§ãƒªãƒ¼ã‚°</button>`; leagues.forEach(league => { html += `<button class="filter-btn" onclick="setBest11Filter('league', '${league}', this)">${league}</button>`; }); html += `<select id="club-filter-select" onchange="setBest11Filter('club', this.value, this)"> <option value="all">ã‚¯ãƒ©ãƒ–ã§çµã‚Šè¾¼ã¿</option>`; clubsWithLeague.sort().forEach(([club, league]) => { if (club) html += `<option value="${club}" data-league="${league}">${club}</option>`; }); html += `</select>`; filtersDiv.innerHTML = html; }
    function setBest11Filter(type, value, element) { best11Filter = { type, value }; document.querySelectorAll('#best11-filters .filter-btn').forEach(btn => btn.classList.remove('active')); if (element.tagName === 'BUTTON') { element.classList.add('active'); document.getElementById('club-filter-select').value = 'all'; } else if (element.tagName === 'SELECT' && value === 'all') { document.querySelector('#best11-filters .filter-btn[onclick*="\'all\'"]').classList.add('active'); best11Filter = { type: 'all', value: null }; } const clubSelect = document.getElementById('club-filter-select'); const originalOptions = [...new Map(playerData.map(p => [p['æ‰€å±ã‚¯ãƒ©ãƒ–'], p['ãƒªãƒ¼ã‚°']])).entries()].filter(([club]) => club).sort(); const majorLeagues = ["ãƒ—ãƒ¬ãƒŸã‚¢ãƒªãƒ¼ã‚°", "ãƒ–ãƒ³ãƒ‡ã‚¹ãƒªãƒ¼ã‚¬", "ã‚»ãƒªã‚¨A", "ãƒ©ãƒªãƒ¼ã‚¬", "ãƒªãƒ¼ã‚°ã‚¢ãƒ³"]; let clubsToShow; if (best11Filter.type === 'league') { clubsToShow = originalOptions.filter(([club, league]) => league === best11Filter.value); } else if (best11Filter.type === '5-da-league') { clubsToShow = originalOptions.filter(([club, league]) => majorLeagues.includes(league)); } else { clubsToShow = originalOptions; } let optionsHtml = `<option value="all">ã‚¯ãƒ©ãƒ–ã§çµã‚Šè¾¼ã¿</option>`; clubsToShow.forEach(([club, league]) => { optionsHtml += `<option value="${club}" data-league="${league}">${club}</option>`; }); clubSelect.innerHTML = optionsHtml; if (best11Filter.type === 'club') { clubSelect.value = best11Filter.value; } if (window.nowSelectedPosKey) { const currentPosBtn = document.querySelector(`.position-btn[data-pos="${window.nowSelectedPosKey}"]`); selectPosition(window.nowSelectedPosKey, currentPosBtn); } }
    function initBest11Page() { renderPositionTabs(); renderBest11Table(); renderCourtPlayers(); }
    window.setFormation = function(form, btn) { best11Formation = form; document.getElementById("formation-title").textContent = "ãƒ•ã‚©ãƒ¼ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼š" + btn.textContent; document.querySelectorAll('.formation-btn').forEach(b => b.classList.remove('active')); btn.classList.add('active'); best11Selected = {}; best11Filter = { type: 'all', value: null }; initBest11Page(); document.querySelectorAll('#best11-filters .filter-btn').forEach(b => b.classList.remove('active')); document.querySelector('#best11-filters .filter-btn').classList.add('active'); const clubSelect = document.getElementById('club-filter-select'); if(clubSelect) clubSelect.value = 'all'; }
    function renderPositionTabs() { const posBtnContainer = document.getElementById("position-btn-container"); if (!posBtnContainer) return; const positions = best11Positions[best11Formation]; let html = ''; positions.forEach((pos, i) => { html += `<button class="position-btn${i === 0 ? ' active' : ''}" data-pos="${pos.key}" onclick="selectPosition('${pos.key}', this)">${pos.label}</button>`; }); posBtnContainer.innerHTML = html; setTimeout(() => selectPosition(positions[0].key, posBtnContainer.querySelector('.position-btn')), 10); }
    window.selectPosition = function(posKey, btn) { window.nowSelectedPosKey = posKey; document.querySelectorAll('#position-tabs .position-btn').forEach(b => b.classList.remove('active')); if (btn) btn.classList.add('active'); let listDiv = document.getElementById('player-choice-list'); if (!listDiv) return; let sourceData; const majorLeagues = ["ãƒ—ãƒ¬ãƒŸã‚¢ãƒªãƒ¼ã‚°", "ãƒ–ãƒ³ãƒ‡ã‚¹ãƒªãƒ¼ã‚¬", "ã‚»ãƒªã‚¨A", "ãƒ©ãƒªãƒ¼ã‚¬", "ãƒªãƒ¼ã‚°ã‚¢ãƒ³"]; switch (best11Filter.type) { case 'league': sourceData = playerData.filter(p => p['ãƒªãƒ¼ã‚°'] === best11Filter.value); break; case 'club': sourceData = playerData.filter(p => p['æ‰€å±ã‚¯ãƒ©ãƒ–'] === best11Filter.value); break; case '5-da-league': sourceData = playerData.filter(p => majorLeagues.includes(p['ãƒªãƒ¼ã‚°'])); break; default: sourceData = playerData; } const searchKey = posKey.replace(/[0-9]/g, '').toUpperCase(); let players = sourceData.filter(p => { const playerPos = (p['ãƒã‚¸ã‚·ãƒ§ãƒ³'] || "").toUpperCase(); if (playerPos === searchKey) return true; if (searchKey === 'CB' && playerPos === 'DF') return true; return false; }); if (players.length === 0) { listDiv.innerHTML = `<div style="color:white; padding: 10px;">ã“ã®æ¡ä»¶ã®é¸æ‰‹ãŒã„ã¾ã›ã‚“ã€‚</div>`; } else { let selectHTML = `<select onchange="choosePlayer('${posKey}', this.value)" style="padding: 8px; font-size: 1.1em; border-radius: 8px;">`; selectHTML += `<option value="">é¸æ‰‹ã‚’é¸æŠ...</option>`; players.forEach(p => { const playerName = p['é¸æ‰‹å']; const isSelected = best11Selected[posKey] === playerName; selectHTML += `<option value="${playerName}" ${isSelected ? 'selected' : ''}>${playerName}</option>`; }); selectHTML += `</select>`; listDiv.innerHTML = selectHTML; } renderCourtPlayers(); }
    function renderBest11Table() { const tableDiv = document.getElementById("best11-table"); const positions = best11Positions[best11Formation]; const posOrder = [...positions].sort((a,b) => (a.key.startsWith('FW')?-1:1) - (b.key.startsWith('FW')?-1:1) || (b.key.startsWith('MF')?1:-1) - (a.key.startsWith('MF')?1:-1) || (b.key.startsWith('CB')?1:-1) - (a.key.startsWith('CB')?1:-1) || (a.key==='GK'?1:-1)); let html = '<table><thead><tr><th>ãƒã‚¸ã‚·ãƒ§ãƒ³</th><th>é¸æ‰‹</th><th>ã‚¯ãƒ©ãƒ–</th><th>ãƒªãƒ¼ã‚°</th></tr></thead><tbody>'; posOrder.forEach(pos => { let name = best11Selected[pos.key] || ''; let club = '', league = ''; if (name) { const player = playerData.find(p => p['é¸æ‰‹å'] === name); if (player) { club = player['æ‰€å±ã‚¯ãƒ©ãƒ–'] || ''; league = player['ãƒªãƒ¼ã‚°'] || ''; } } html += `<tr><td style="font-weight:bold;">${pos.label}</td><td${name ? '' : ' class="unselected"'}>${name || 'æœªé¸æŠ'}</td><td>${club || '-'}</td><td>${league || '-'}</td></tr>`; }); html += "</tbody></table>"; tableDiv.innerHTML = html; }
    function renderCourtPlayers() { const area = document.getElementById('court-area'); if (!area) return; area.innerHTML = ''; best11Positions[best11Formation].forEach(pos => { const c = best11PosCoords[best11Formation][pos.key]; if (!c) return; const label = document.createElement('div'); label.className = 'best11-player-label' + (best11Selected[pos.key] ? '' : ' unselected') + (pos.key === window.nowSelectedPosKey ? ' selected' : ''); label.style.top = `${c.top}px`; label.style.left = `${c.left}px`; let name = best11Selected[pos.key] ? best11Selected[pos.key] : pos.label; let fontSize = name.length >= 7 ? '0.80em' : (name.length >= 6 ? '0.89em' : '1em'); label.innerHTML = `<span style="font-size:${fontSize};">${name}</span>`; label.onclick = () => selectPosition(pos.key, document.querySelector(`.position-btn[data-pos="${pos.key}"]`)); label.style.cursor = "pointer"; area.appendChild(label); }); }
    window.choosePlayer = function(posKey, name) { if (name) { best11Selected[posKey] = name; } else { delete best11Selected[posKey]; } renderBest11Table(); renderCourtPlayers(); }
    
    // â–¼â–¼â–¼ã€ä¿®æ­£ç‚¹ã€‘ã“ã® setupEventListeners é–¢æ•°å…¨ä½“ã‚’ç½®ãæ›ãˆã¦ãã ã•ã„ â–¼â–¼â–¼
    function setupEventListeners() {
        // --- ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®åˆ¶å¾¡ ---
        const hamburgerBtn = document.getElementById('hamburger-btn');
        const navLinks = document.getElementById('nav-links');
        const menuOverlay = document.getElementById('menu-overlay');

        if (hamburgerBtn && navLinks && menuOverlay) {
            const toggleMenu = () => {
                navLinks.classList.toggle('open');
                menuOverlay.classList.toggle('open');
            };
            hamburgerBtn.addEventListener('click', toggleMenu);
            menuOverlay.addEventListener('click', toggleMenu);
        }

        // --- ãã®ä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ ---
        document.querySelectorAll(".country-btn").forEach(btn => {
            btn.addEventListener("click", () => {
                document.querySelectorAll(".country-btn").forEach(b => b.classList.remove("active"));
                btn.classList.add("active");
                showPlayerTable(btn.dataset.country);
            });
        });

        document.querySelectorAll(".league-tab-btn").forEach(btn => {
            btn.addEventListener("click", function() {
                document.querySelectorAll(".league-tab-btn").forEach(b => b.classList.remove("active"));
                this.classList.add("active");
                renderClubLeagueTable(this.dataset.league);
            });
        });

        document.getElementById("post-to-x-btn").onclick = function() {
            const text = "ç§ã®ãƒ™ã‚¹ãƒˆã‚¤ãƒ¬ãƒ–ãƒ³ã¯ã“ã¡ã‚‰ï¼\n#ã‚ãªãŸã®ãƒ™ã‚¹ãƒˆã‚¤ãƒ¬ãƒ–ãƒ³";
            const url = "https://jleague-big-club.com";
            const tweetUrl = `https://x.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
            window.open(tweetUrl, '_blank');
            const msgSpan = document.getElementById('copy-best11-img-msg');
            msgSpan.textContent = 'Xã®æŠ•ç¨¿ç”»é¢ã§ç”»åƒã‚’è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ï¼';
            setTimeout(() => msgSpan.textContent = '', 4000);
        };

        document.getElementById("copy-best11-img-btn").onclick = function() {
            const copyBtn = this;
            const postBtn = document.getElementById('post-to-x-btn');
            const captureElem = document.getElementById('best11-capture-area');
            const buttonsContainer = document.getElementById('capture-buttons');
            const msgSpan = document.getElementById('copy-best11-img-msg');
            const selectedLabel = captureElem.querySelector('.best11-player-label.selected');
            if (selectedLabel) selectedLabel.classList.remove('selected');
            copyBtn.disabled = true;
            postBtn.disabled = true;
            buttonsContainer.style.visibility = 'hidden';
            msgSpan.style.visibility = 'hidden';
            msgSpan.textContent = '';
            html2canvas(captureElem, { backgroundColor: null, scale: 2, useCORS: true }).then(canvas => {
                if (selectedLabel) selectedLabel.classList.add('selected');
                canvas.toBlob(blob => {
                    if (!blob) {
                        msgSpan.textContent = 'ç”»åƒã®ç”Ÿæˆã«å¤±æ•—ã—ã¾ã—ãŸ';
                        return;
                    }
                    navigator.clipboard.write([new ClipboardItem({ "image/png": blob })])
                        .then(() => {
                            msgSpan.textContent = 'ç”»åƒã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼ã€ŒXã«æŠ•ç¨¿ã€ã‹ã‚‰ã©ã†ã';
                        })
                        .catch(err => {
                            console.error("ã‚³ãƒ”ãƒ¼å¤±æ•—:", err);
                            msgSpan.textContent = 'ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ';
                        });
                }, 'image/png');
            }).catch(err => {
                console.error("ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚¨ãƒ©ãƒ¼:", err);
                msgSpan.textContent = 'ç”»åƒã®ã‚­ãƒ£ãƒ—ãƒãƒ£ã«å¤±æ•—ã—ã¾ã—ãŸ';
            }).finally(() => {
                copyBtn.disabled = false;
                postBtn.disabled = false;
                buttonsContainer.style.visibility = 'visible';
                msgSpan.style.visibility = 'visible';
            });
        };

        const scoreBtn = document.getElementById("score-method-btn");
        const scorePop = document.getElementById("score-method-pop");
        const detailLink = document.getElementById("score-detail-link");
        const detailPop = document.getElementById("score-detail-pop");

        if(scoreBtn) scoreBtn.onclick = (e) => {
            e.stopPropagation();
            scorePop.style.display = 'block';
        };
        if(detailLink) detailLink.onclick = (e) => {
            e.preventDefault();
            detailPop.style.display = "block";
        };

        document.addEventListener("click", (e) => {
            const board = document.getElementById("club-status-board");
            if (board && board.style.display === "block" && !board.contains(e.target) && !e.target.matches("td[onclick^='showClubStatus']")) board.style.display = "none";
            if (scorePop && scorePop.style.display === "block" && !scorePop.contains(e.target) && e.target !== scoreBtn) scorePop.style.display = "none";
            if (detailPop && detailPop.style.display === "block" && !detailPop.contains(e.target) && e.target !== detailLink) detailPop.style.display = "none";
        });
    }

    let blogPosts = []; let blogInitialized = false; const listContainer = document.getElementById('blog-list-container'); const paginationContainer = document.getElementById('pagination'); const contentDiv = document.getElementById('blog-content'); const blogPageSection = document.getElementById('blog');
    if (listContainer && paginationContainer && contentDiv && blogPageSection) { const observer = new MutationObserver((mutationsList) => { for (const mutation of mutationsList) { if (mutation.type === 'attributes' && mutation.attributeName === 'class' && blogPageSection.classList.contains('visible')) { if (isShowingArticleDetail) { continue; } if (!blogInitialized) { initializeAndRenderBlog(); } } } }); observer.observe(blogPageSection, { attributes: true }); } else { console.error("ãƒ–ãƒ­ã‚°æ©Ÿèƒ½ã«å¿…è¦ãªHTMLè¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚"); }
    function initializeAndRenderBlog() { if (blogInitialized) return; fetch("posts/index.json") .then(res => { if (!res.ok) throw new Error(`index.jsonã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: ${res.status}`); return res.json(); }) .then(data => { if (!Array.isArray(data)) throw new Error("JSONãƒ‡ãƒ¼ã‚¿ãŒé…åˆ—å½¢å¼ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚"); blogPosts = data.sort((a, b) => new Date(b.date) - new Date(a.date)); blogInitialized = true; renderArticleList(1); }) .catch(err => { console.error("ãƒ–ãƒ­ã‚°æ©Ÿèƒ½ã®åˆæœŸåŒ–ä¸­ã«ã‚¨ãƒ©ãƒ¼:", err); const errorMessage = `<div style="background:#332222; border:2px solid red; color:white; padding:20px; margin: 20px; text-align:left; font-family:monospace; white-space:pre-wrap; border-radius: 8px;"><h3 style="margin-top:0; color:red;">ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</h3><p style="margin-bottom: 5px;"><strong>ã‚¨ãƒ©ãƒ¼ã®ç¨®é¡:</strong></p><p style="background: #553333; padding: 5px;">${err.name || 'ä¸æ˜'}</p><p style="margin-bottom: 5px;"><strong>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:</strong></p><p style="background: #553333; padding: 5px;">${err.message || 'è©³ç´°ä¸æ˜'}</p><hr><p>ã“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€é–‹ç™ºè€…ã«ä¼ãˆã¦ãã ã•ã„ã€‚</p></div>`; if(listContainer) listContainer.innerHTML = errorMessage; }); }
    const articlesPerPage = 18; let currentPage = 1; function renderArticleList(page) { currentPage = page; if(listContainer) listContainer.innerHTML = ""; if(listContainer) listContainer.style.display = 'flex'; if(contentDiv) contentDiv.style.display = 'none'; if(paginationContainer) paginationContainer.style.display = 'block'; const start = (page - 1) * articlesPerPage; const currentPosts = blogPosts.slice(start, start + articlesPerPage); currentPosts.forEach(post => { const card = document.createElement('div'); card.className = 'blog-card'; card.innerHTML = `<img src="${post.thumbnail}" alt="${post.title}"><div class="blog-card-content"><div class="blog-card-title">${post.title}</div><div class="blog-card-date">${post.date}</div></div>`; card.onclick = () => showArticleDetail(post.slug, post.title); if(listContainer) listContainer.appendChild(card); }); renderPagination(); }
    function renderPagination() { if(!paginationContainer) return; paginationContainer.innerHTML = ""; const totalPages = Math.ceil(blogPosts.length / articlesPerPage); if (totalPages <= 1) return; for (let i = 1; i <= totalPages; i++) { const btn = document.createElement('button'); btn.textContent = i; btn.style.cssText = `margin:0 5px; padding:6px 14px; border:none; border-radius:5px; cursor:pointer; background:${i === currentPage ? '#299ad3' : '#eee'}; color:${i === currentPage ? '#fff' : '#333'};`; btn.onclick = () => { renderArticleList(i); window.scrollTo({ top: 0, behavior: "smooth" }); }; paginationContainer.appendChild(btn); } }
    function showArticleDetail(slug, title) { isShowingArticleDetail = true; if(listContainer) listContainer.style.display = 'none'; if(paginationContainer) paginationContainer.style.display = 'none'; fetch(`posts/${slug}.md`) .then(res => { if (!res.ok) throw new Error(`Markdownãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: ${slug}.md`); return res.text(); }) .then(md => { const bodyContent = md.replace(/^---[\s\S]*?---/, '').trim(); const html = marked.parse(bodyContent); if(contentDiv) { const buttonsHtml = ` <div style="text-align:center; margin-top:3em; display:flex; justify-content:center; gap:20px;"> <a href="#" onclick="event.preventDefault(); showPage('top', document.querySelector('#nav-analysis-btn'));" style="color:#aaa; font-weight:bold; text-decoration:none; border:1px solid #aaa; padding: 8px 20px; border-radius:8px; transition: all 0.2s;"> Â« ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹ </a> <a href="#" onclick="event.preventDefault(); window.showBlogList();" style="color:#299ad3; font-weight:bold; text-decoration:none; border:1px solid #299ad3; padding: 8px 20px; border-radius:8px; transition: all 0.2s;"> è¨˜äº‹ä¸€è¦§ã«æˆ»ã‚‹ Â» </a> </div> `; contentDiv.innerHTML = `<h2>${title}</h2>${html}${buttonsHtml}`; contentDiv.style.display = "block"; showPage('blog', Array.from(document.querySelectorAll('.nav-links button')).find(b => b.textContent === 'è¨˜äº‹')); const pageTitle = document.querySelector('#page-title-blog h1'); if(pageTitle) pageTitle.textContent = title; window.scrollTo({ top: 0, behavior: 'smooth' }); } }) .catch(err => { console.error("è¨˜äº‹è©³ç´°ã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:", err); if(contentDiv) { contentDiv.innerHTML = `è¨˜äº‹ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸã€‚<br><br><a href="#" onclick="event.preventDefault(); window.showBlogList();">ä¸€è¦§ã«æˆ»ã‚‹</a>`; contentDiv.style.display = 'block'; showPage('blog', Array.from(document.querySelectorAll('.nav-links button')).find(b => b.textContent === 'è¨˜äº‹')); } }) .finally(() => { isShowingArticleDetail = false; }); }
    window.showBlogList = function() { document.querySelectorAll('.page-section').forEach(sec => sec.classList.remove('visible')); const blogPage = document.getElementById('blog'); if (blogPage) { blogPage.classList.add('visible'); } document.querySelectorAll('.nav-links button').forEach(b => b.classList.remove('active')); const blogNavBtn = Array.from(document.querySelectorAll('.nav-links button')).find(b => b.textContent === 'è¨˜äº‹'); if (blogNavBtn) { blogNavBtn.classList.add('active'); } const pageTitle = document.querySelector('#page-title-blog h1'); if(pageTitle) pageTitle.textContent = 'è¨˜äº‹ãƒ»ãƒ–ãƒ­ã‚°'; renderArticleList(currentPage); window.scrollTo({ top: 0, behavior: 'smooth' }); }
    function showRankingTable(league) { document.querySelectorAll('.rank-tab-btn').forEach(btn => btn.classList.remove('active')); const activeBtn = document.querySelector(`.rank-tab-btn[onclick="showRankingTable('${league}')"]`); if(activeBtn) activeBtn.classList.add('active'); const container = document.getElementById('ranking-table-container'); if (!container) return; const { headers, data, updated } = rankingData[league]; if (!headers || !data || data.length === 0) { container.innerHTML = "<p>é †ä½ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>"; return; } let dateHtml = ''; if (updated) { const updatedDate = new Date(updated); const formattedDate = updatedDate.toLocaleString('ja-JP', { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' }); dateHtml = `<p class="update-date-note">æ›´æ–°æ—¥æ™‚: ${formattedDate}</p>`; } let tableHTML = `<table><thead><tr>`; headers.forEach(h => tableHTML += `<th>${h}</th>`); tableHTML += `</tr></thead><tbody>`; data.forEach(row => { tableHTML += `<tr>`; headers.forEach(h => tableHTML += `<td>${row[h] || ''}</td>`); tableHTML += `</tr>`; }); tableHTML += `</tbody></table>`; container.innerHTML = dateHtml + tableHTML; }
    let simInitialized = false; function getCategoryInfo(score) { if (score >= 50) return { text: 'ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–', color: '#ffd700' }; if (score >= 30) return { text: 'æœ‰æœ›ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–', color: '#e94444' }; if (score >= 20) return { text: 'æ½œåœ¨çš„ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–', color: '#41cdf4' }; if (score >= 5) return { text: 'ä¸­å …ã‚¯ãƒ©ãƒ–', color: '#bbb' }; return { text: 'ãƒ­ãƒ¼ã‚«ãƒ«ã‚¯ãƒ©ãƒ–', color: '#999' }; }
    function initSimulationPage() { if (simInitialized) return; const leagueSelect = document.getElementById('sim-league-select'); const clubSelect = document.getElementById('sim-club-select'); const inputs = document.querySelectorAll('.sim-input'); leagueSelect.innerHTML = '<option value="">ã¾ãšãƒªãƒ¼ã‚°ã‚’é¸æŠ...</option>'; ['J1', 'J2', 'J3'].forEach(league => { leagueSelect.innerHTML += `<option value="${league}">${league}</option>`; }); leagueSelect.addEventListener('change', () => { populateClubSelect(leagueSelect.value); }); clubSelect.addEventListener('change', () => { displayClubData(clubSelect.value); }); inputs.forEach(input => { input.addEventListener('input', runSimulation); }); simInitialized = true; }
    function populateClubSelect(league) { const clubSelect = document.getElementById('sim-club-select'); const inputs = document.querySelectorAll('.sim-input'); clubSelect.innerHTML = '<option value="">ã‚¯ãƒ©ãƒ–ã‚’é¸æŠ...</option>'; clubSelect.disabled = true; inputs.forEach(input => { input.value = ''; input.disabled = true; }); document.getElementById('sim-result-area').innerHTML = '<p>ã‚¯ãƒ©ãƒ–ã‚’é¸æŠã™ã‚‹ã¨ã€ã“ã“ã«ã‚¹ã‚³ã‚¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>'; if (!league) return; const clubsInLeague = clubData.filter(c => c.p === league).sort((a, b) => a.name.localeCompare(b.name, 'ja')); clubsInLeague.forEach(club => { clubSelect.innerHTML += `<option value="${club.name}">${club.name}</option>`; }); clubSelect.disabled = false; }
    function displayClubData(clubName) { const inputs = document.querySelectorAll('.sim-input'); const resultArea = document.getElementById('sim-result-area'); if (!clubName) { inputs.forEach(input => { input.value = ''; input.disabled = true; }); resultArea.innerHTML = '<p>ã‚¯ãƒ©ãƒ–ã‚’é¸æŠã™ã‚‹ã¨ã€ã“ã“ã«ã‚¹ã‚³ã‚¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>'; return; } inputs.forEach(input => input.disabled = false); const club = clubData.find(c => c.name === clubName); if (!club) return; document.getElementById('sim-revenue').value = club.revenue || ''; document.getElementById('sim-audience').value = club.audience || ''; document.getElementById('sim-titles').value = club.titles || ''; document.getElementById('sim-avg-rank').value = club.m || ''; const currentScore = club.sum || 0; const currentCategory = getCategoryInfo(currentScore); resultArea.innerHTML = ` <div class="sim-current-score"> ç¾åœ¨ã®åŒºåˆ†: <span style="color: ${currentCategory.color}; font-weight: bold;">${currentCategory.text}</span><br> ç¾åœ¨ã®ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã‚¹ã‚³ã‚¢: <strong>${currentScore.toFixed(2)}</strong> </div> <div class="sim-new-score"> <p style="margin:0; font-size:0.8em; color:#ccc;">æ•°å€¤ã‚’å¤‰æ›´ã—ã¦ãã ã•ã„</p> </div> `; }
    function runSimulation() { const clubName = document.getElementById('sim-club-select').value; if (!clubName) return; const club = clubData.find(c => c.name === clubName); if (!club) return; const revenue = parseFloat(document.getElementById('sim-revenue').value) || club.revenue; const audience = parseInt(document.getElementById('sim-audience').value) || club.audience; const titles = parseInt(document.getElementById('sim-titles').value) || club.titles; const avgRank = parseFloat(document.getElementById('sim-avg-rank').value) || parseFloat(club.m); const currentScore = club.sum || 0; const currentCategory = getCategoryInfo(currentScore); const newScore = calculateBigClubScore(revenue, audience, titles, avgRank); const newCategory = getCategoryInfo(newScore); const resultArea = document.getElementById('sim-result-area'); resultArea.innerHTML = ` <div class="sim-current-score"> ç¾åœ¨ã®åŒºåˆ†: <span style="color: ${newCategory.color}; font-weight: bold;">${currentCategory.text}</span><br> ç¾åœ¨ã®ãƒ“ãƒƒã‚°ã‚¯ãƒ©ãƒ–ã‚¹ã‚³ã‚¢: <strong>${currentScore.toFixed(2)}</strong> </div> <div class="sim-new-score"> äºˆæ¸¬åŒºåˆ†: <span style="color: ${newCategory.color}; font-weight: bold;">${newCategory.text}</span><br> äºˆæ¸¬ã‚¹ã‚³ã‚¢ <span class="arrow">â†’</span> <span class="score-value">${newScore.toFixed(2)}</span> </div> `; }
    function calculateBigClubScore(revenue, audience, titles, avgRank) { if (isNaN(revenue) || isNaN(audience) || isNaN(titles) || isNaN(avgRank) || avgRank > 21) { return 0; } const revenueScore = (revenue / 200) * 100; const audienceScore = (audience / 45000) * 100; const titleScore = (titles / 98) * 100; const rankScore = 21 - avgRank; const totalScore = (revenueScore * 0.3) + (audienceScore * 0.15) + (titleScore * 0.25) + (rankScore * 0.3); return Math.max(0, totalScore); }
    const originalShowPage = window.showPage; window.showPage = function(id, btn) { originalShowPage(id, btn); if (id === 'simulation') { initSimulationPage(); } if (btn && btn.parentElement.classList.contains('nav-dropdown-content')) { document.querySelectorAll('.nav-links > .nav-dropdown > button').forEach(b => b.classList.remove('active')); btn.closest('.nav-dropdown').querySelector('button').classList.add('active'); } };
    function setupCarousel(carouselId, interval) { const carousel = document.getElementById(carouselId); if (!carousel) return; const track = carousel.querySelector('.carousel-track'); const items = Array.from(track.children); const prevBtn = document.getElementById('carousel-prev-btn'); const nextBtn = document.getElementById('carousel-next-btn'); const originalItemCount = items.length; if (originalItemCount === 0) return; const itemsPerScreen = 2; const totalSets = Math.ceil(originalItemCount / itemsPerScreen); let currentSetIndex = 0; let autoPlayInterval; let isAnimating = false; items.forEach(item => { track.appendChild(item.cloneNode(true)); }); function moveToSet(newIndex) { if (isAnimating) return; isAnimating = true; track.style.transition = 'transform 0.5s ease-in-out'; track.style.transform = `translateX(-${newIndex * 100}%)`; currentSetIndex = newIndex; setTimeout(() => { isAnimating = false; }, 500); } function moveToNextSet() { let nextIndex = currentSetIndex + 1; moveToSet(nextIndex); if (nextIndex >= totalSets) { setTimeout(() => { track.style.transition = 'none'; track.style.transform = 'translateX(0)'; currentSetIndex = 0; }, 500); } } function moveToPrevSet() { let prevIndex = currentSetIndex - 1; if (prevIndex < 0) { track.style.transition = 'none'; track.style.transform = `translateX(-${totalSets * 100}%)`; setTimeout(() => { moveToSet(totalSets - 1); }, 20); } else { moveToSet(prevIndex); } } function startAutoPlay() { stopAutoPlay(); autoPlayInterval = setInterval(moveToNextSet, interval); } function stopAutoPlay() { clearInterval(autoPlayInterval); } function resetAutoPlay() { stopAutoPlay(); startAutoPlay(); } nextBtn.addEventListener('click', () => { moveToNextSet(); resetAutoPlay(); }); prevBtn.addEventListener('click', () => { moveToPrevSet(); resetAutoPlay(); }); carousel.addEventListener('mouseenter', stopAutoPlay); carousel.addEventListener('mouseleave', startAutoPlay); startAutoPlay(); }
    let attendanceInitialized = false; let attendanceChart = null; function initAttendancePage() { if (attendanceInitialized) return; const yearSelect = document.getElementById('attendance-year-select'); const years = [...new Set(attendanceData.map(d => d.å¹´))].sort((a, b) => b - a); yearSelect.innerHTML = ''; years.forEach(year => { yearSelect.innerHTML += `<option value="${year}">${year}å¹´</option>`; }); yearSelect.addEventListener('change', updateAttendanceFilters); const leagueBtnContainer = document.getElementById('attendance-league-btns'); let leagueBtnsHtml = `<button class="rank-tab-btn active" data-league="all">å…¨ã¦</button>`; const leagues = [...new Set(attendanceData.map(d => d.ãƒªãƒ¼ã‚°))].filter(Boolean).sort(); leagues.forEach(league => { leagueBtnsHtml += `<button class="rank-tab-btn" data-league="${league}">${league}</button>`; }); leagueBtnContainer.innerHTML = leagueBtnsHtml; leagueBtnContainer.querySelectorAll('.rank-tab-btn').forEach(btn => { btn.addEventListener('click', () => { leagueBtnContainer.querySelectorAll('.rank-tab-btn').forEach(b => b.classList.remove('active')); btn.classList.add('active'); updateAttendanceFilters(); }); }); document.getElementById('attendance-club-select').addEventListener('change', (e) => { if (e.target.value && e.target.value !== 'all') { renderAttendanceChart(e.target.value); } else { updateAttendanceFilters(); } }); updateAttendanceFilters(); attendanceInitialized = true; }
    function updateAttendanceFilters() { const selectedYear = parseInt(document.getElementById('attendance-year-select').value); const activeLeagueBtn = document.querySelector('#attendance-league-btns .rank-tab-btn.active'); const selectedLeague = activeLeagueBtn ? activeLeagueBtn.dataset.league : 'all'; const clubSelect = document.getElementById('attendance-club-select'); const clubsForDropdown = attendanceData.filter(d => d.å¹´ === selectedYear && (selectedLeague === 'all' || d.ãƒªãƒ¼ã‚° === selectedLeague)); const clubNames = [...new Set(clubsForDropdown.map(d => d.ã‚¯ãƒ©ãƒ–))].sort((a, b) => a.localeCompare(b, 'ja')); let optionsHtml = '<option value="all">ã‚¯ãƒ©ãƒ–ã‚’é¸æŠ...</option>'; clubNames.forEach(name => { optionsHtml += `<option value="${name}">${name}</option>`; }); clubSelect.innerHTML = optionsHtml; const dataForTable = attendanceData.filter(d => d.å¹´ === selectedYear && (selectedLeague === 'all' || d.ãƒªãƒ¼ã‚° === selectedLeague)); renderAttendanceTable(dataForTable); }
    function renderAttendanceTable(dataToRender) { document.getElementById('attendance-chart-wrap').style.display = 'none'; const outputContainer = document.getElementById('attendance-output-container'); outputContainer.style.display = 'block'; const tableData = dataToRender || []; const headers = ['é †ä½', 'ãƒªãƒ¼ã‚°', 'ã‚¯ãƒ©ãƒ–', 'å¹³å‡è¦³å®¢æ•°', 'å¹´é–“æœ€é«˜è¦³å®¢æ•°', 'å¹´é–“æœ€ä½è¦³å®¢æ•°', 'ã‚²ãƒ¼ãƒ æ•°']; const leagueColorMap = { 'J1': '#e94444', 'J2': '#29b6e6', 'J3': '#6cbf6b', 'JFL': '#f2a136', 'default': '#ffffff' }; let dateHtml = ''; if (attendanceData.lastModified) { const updatedDate = new Date(attendanceData.lastModified); const formattedDate = updatedDate.toLocaleString('ja-JP', { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' }); dateHtml = `<div style="text-align: right; font-size: 0.85em; color: #aabbcc; margin-bottom: 8px;"> æ›´æ–°æ—¥æ™‚: ${formattedDate} </div>`; } let tableHtml = `<table style="background: #f9fcff; color: #21304c;"> <thead><tr>`; headers.forEach(h => tableHtml += `<th style="background: linear-gradient(90deg, #27aee7 65%, #b0e7fa 100%); color: #fff;">${h}</th>`); tableHtml += `</tr></thead> <tbody>`; tableData.sort((a, b) => b.å¹³å‡è¦³å®¢æ•° - a.å¹³å‡è¦³å®¢æ•°).forEach((row, index) => { const leagueColor = leagueColorMap[row.ãƒªãƒ¼ã‚°] || leagueColorMap['default']; tableHtml += `<tr style="cursor: pointer; background: ${index % 2 === 0 ? '#f2f6fa' : '#ffffff'};" onclick="renderAttendanceChart('${row.ã‚¯ãƒ©ãƒ–}')" onmouseover="this.style.backgroundColor='#e0f7ff';" onmouseout="this.style.backgroundColor='${index % 2 === 0 ? '#f2f6fa' : '#ffffff'}';">`; tableHtml += `<td>${index + 1}</td>`; tableHtml += `<td style="background-color: ${leagueColor}; color: #fff; font-weight: bold;">${row.ãƒªãƒ¼ã‚°}</td>`; tableHtml += `<td>${row.ã‚¯ãƒ©ãƒ–}</td>`; tableHtml += `<td>${row.å¹³å‡è¦³å®¢æ•°.toLocaleString()}</td>`; tableHtml += `<td>${row.å¹´é–“æœ€é«˜è¦³å®¢æ•°.toLocaleString()}</td>`; tableHtml += `<td>${row.å¹´é–“æœ€ä½è¦³å®¢æ•°.toLocaleString()}</td>`; tableHtml += `<td>${row.ã‚²ãƒ¼ãƒ æ•°}</td></tr>`; }); tableHtml += `</tbody></table>`; outputContainer.innerHTML = dateHtml + tableHtml; }
    function renderAttendanceChart(clubName) { document.getElementById('attendance-output-container').style.display = 'none'; document.getElementById('attendance-chart-wrap').style.display = 'block'; const clubHistory = attendanceData.filter(d => d.ã‚¯ãƒ©ãƒ– === clubName).sort((a, b) => a.å¹´ - b.å¹´); const labels = clubHistory.map(d => d.å¹´); const colorMap = { 'J1': '#e94444', 'J2': '#29b6e6', 'J3': '#6cbf6b', 'JFL': '#f2a136', 'default': '#aaaaaa' }; if (attendanceChart) { attendanceChart.destroy(); } const ctx = document.getElementById('attendanceChart').getContext('2d'); attendanceChart = new Chart(ctx, { type: 'line', data: { labels: labels, datasets: [{ label: `${clubName} ã®å¹³å‡è¦³å®¢æ•°æ¨ç§»`, segment: { borderColor: ctx => { const league1 = ctx.p1.raw.league; return colorMap[league1] || colorMap['default']; }, }, data: clubHistory.map(d => ({ x: d.å¹´, y: d.å¹³å‡è¦³å®¢æ•°, league: d.ãƒªãƒ¼ã‚° })), spanGaps: true, tension: 0.1, pointRadius: 5, pointHoverRadius: 7, pointBackgroundColor: (ctx) => { const index = ctx.dataIndex; const league = clubHistory[index] ? clubHistory[index].ãƒªãƒ¼ã‚° : 'default'; return colorMap[league] || colorMap['default']; }, pointBorderColor: '#fff', pointBorderWidth: 2, pointHitRadius: 20, }] }, options: { responsive: true, maintainAspectRatio: false, scales: { x: { type: 'linear', title: { display: true, text: 'å¹´', color: '#333' }, ticks: { stepSize: 1, callback: function(value) { if (Math.floor(value) === value) { return value; } } } }, y: { beginAtZero: true, title: { display: true, text: 'å¹³å‡è¦³å®¢æ•°ï¼ˆäººï¼‰', color: '#333' } } }, plugins: { legend: { display: false }, tooltip: { callbacks: { label: function(context) { const point = context.raw; return ` ${point.league}: ${point.y.toLocaleString()} äºº`; }, title: function(context) { return `${context[0].raw.x}å¹´`; } } } } } }); const legendContainer = document.getElementById('attendance-chart-wrap'); const oldLegend = document.getElementById('custom-attendance-legend'); if (oldLegend) { oldLegend.remove(); } const customLegend = document.createElement('div'); customLegend.id = 'custom-attendance-legend'; customLegend.style.cssText = 'display: flex; justify-content: center; gap: 20px; margin-top: 15px;'; const usedLeagues = [...new Set(clubHistory.map(d => d.ãƒªãƒ¼ã‚°))]; usedLeagues.forEach(league => { const color = colorMap[league] || colorMap['default']; const legendItem = ` <div style="display: flex; align-items: center; font-size: 0.9em; color: #333;"> <span style="display: inline-block; width: 25px; height: 4px; background-color: ${color}; margin-right: 8px;"></span> ${league} </div> `; customLegend.innerHTML += legendItem; }); legendContainer.appendChild(customLegend); }
</script>
</body>
</html>